# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–æ–¥–∞: Story 4.4

**–î–∞—Ç–∞:** 02.02.2026
**–†–µ–≤—å—é–µ—Ä:** Dev Agent (Amelia)

## –°—Ç–∞—Ç—É—Å
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è (–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (1)
1. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á**: –ó–∞–¥–∞—á–∏ 9.1, 9.2, 9.3 –∏ 9.4 –æ—Ç–º–µ—á–µ–Ω—ã –∫–∞–∫ **–Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ** `[ ]` –≤ —Ñ–∞–π–ª–µ –∏—Å—Ç–æ—Ä–∏–∏ `4-4-integration-tests-full-export-cycle.md`, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –æ–Ω–∏ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**:
   - `assert len(documents) == 3` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç (Task 9.1).
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ö–µ–ª–ø–µ—Ä—ã –∏–∑ `tests.utils` (Task 9.2).
   - `test_full_cycle_guest_order_includes_customer_contact_in_xml` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (Task 9.3).
   - `test_repeat_query_after_success_returns_empty_xml` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥ XML (Task 9.4).

   *–¢—Ä–µ–±—É–µ–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ:* –û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á–∏ –∫–∞–∫ `[x]`, —á—Ç–æ–±—ã –æ—Ç—Ä–∞–∑–∏—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

### üü° –°–†–ï–î–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ (0)
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ: **91%** –¥–ª—è `order_export.py` (AC8 –í—ã–ø–æ–ª–Ω–µ–Ω–æ).

### üü¢ –ù–ò–ó–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (0)
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.

## –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
- **AC1-AC6**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ 8 —É—Å–ø–µ—à–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏ –≤ `test_onec_export_e2e.py`.
- **AC7 (–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã)**: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç (Factory Boy, AAA, pytestmark –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è).
- **AC8 (–ü–æ–∫—Ä—ã—Ç–∏–µ)**: 91% –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ.

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
–í—ã–±–µ—Ä–∏—Ç–µ **–û–ø—Ü–∏—é 1 (–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á.
