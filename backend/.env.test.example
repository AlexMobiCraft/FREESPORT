# Переменные окружения для тестирования FREESPORT
# Скопируйте как .env.test для локального Docker тестирования

# База данных PostgreSQL (обязательно для тестов)
DB_HOST=localhost
DB_NAME=freesport_test
DB_USER=postgres
DB_PASSWORD=password123
DB_PORT=5432

# Redis для кэширования и Celery
REDIS_URL=redis://localhost:6379/1

# Django настройки
SECRET_KEY=test-secret-key-for-testing-only-do-not-use-in-production
DEBUG=False
ALLOWED_HOSTS=localhost,127.0.0.1,testserver

# Отключаем внешние сервисы в тестах
CELERY_TASK_ALWAYS_EAGER=True
CELERY_TASK_EAGER_PROPAGATES=True

# Email для тестов
EMAIL_BACKEND=django.core.mail.backends.locmem.EmailBackend

# Отключаем rate limiting
RATELIMIT_ENABLE=False

# === НАСТРОЙКИ ЛОГИРОВАНИЯ СИНХРОНИЗАЦИИ (ТЕСТЫ) ===
# Период хранения логов (уменьшен для тестовой среды)
SYNC_LOG_RETENTION_DAYS=30
# Получатели тестовых отчетов (используется локальный email backend)
SYNC_REPORT_EMAILS=test-sync-reports@example.com
# Cron расписание (используется в тестах при необходимости)
SYNC_REPORT_SCHEDULE=0 9 * * *
# Размер пакета для пакетных операций в тестах
SYNC_LOG_BATCH_SIZE=100
# Формат логов (text/json)
SYNC_LOG_FORMAT=text

# === МОНИТОРИНГ И АЛЕРТЫ (ТЕСТЫ) ===
# Prometheus отключен в тестах
PROMETHEUS_METRICS_ENABLED=false
# Webhook не используется в тестовой среде
WEBHOOK_ALERT_URL=