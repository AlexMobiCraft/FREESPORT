# Scripts –¥–ª—è FREESPORT Platform

–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

## üìö –°–∫—Ä–∏–ø—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –æ–±—â–∏–π —Ñ–∞–π–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–π `scripts/docs_exclude_patterns.txt`.
–í –Ω—ë–º –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è –ø—É—Ç–∏ (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è), –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö.
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `--exclude` ‚Äî –æ–Ω–∏ –æ–±—ä–µ–¥–∏–Ω—è—Ç—Å—è —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–ø–∏—Å–∫–æ–º.

### docs_validator.py

–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ, –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–æ—Å—Å-—Å—Å—ã–ª–æ–∫ –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è API endpoints –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- ‚úÖ –ü–æ–∏—Å–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏ TODO
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–µ–∫—Ü–∏–π)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞—Ç

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```powershell
# –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
python scripts/docs_validator.py validate

# –ò—Å–∫–ª—é—á–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏ legacy –∏ –º–∏–≥—Ä–∞—Ü–∏–π
python scripts/docs_validator.py validate --exclude docs/legacy/** backend/**/migrations/**

# –¢–æ–ª—å–∫–æ –ø–æ–∏—Å–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
python scripts/docs_validator.py obsolete

# –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–æ—Å—Å-—Å—Å—ã–ª–æ–∫
python scripts/docs_validator.py cross-links

# –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è API
python scripts/docs_validator.py api-coverage
```

**–ß–µ—Ä–µ–∑ Makefile:**

```powershell
make docs-validate          # –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
make docs-search-obsolete   # –ü–æ–∏—Å–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
make docs-check-api         # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è API
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–æ—Å—Å-—Å—Å—ã–ª–æ–∫ –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
‚úÖ –í—Å–µ –∫—Ä–æ—Å—Å-—Å—Å—ã–ª–∫–∏ –≤–∞–ª–∏–¥–Ω—ã (56 —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)

üîç –ü–æ–∏—Å–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–≥–ª—É—à–µ–∫
‚ö†Ô∏è  –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –ù–∞–π–¥–µ–Ω–æ 12 —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤

üìä –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢ –í–ê–õ–ò–î–ê–¶–ò–ò
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  ‚ùå –û—à–∏–±–æ–∫: 0
  ‚ö†Ô∏è  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π: 2
  ‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫: 3
```

---

### docs_link_checker.py

–î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫ –≤ markdown –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ñ–∞–π–ª—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —è–∫–æ—Ä–µ–π (anchors) –≤ —Å—Å—ã–ª–∫–∞—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö URL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –≤ markdown —Ñ–æ—Ä–º–∞—Ç–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```powershell
# –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
python scripts/docs_link_checker.py

# –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–Ω–µ—à–Ω–∏—Ö URL (–º–µ–¥–ª–µ–Ω–Ω–æ)
python scripts/docs_link_checker.py --external

# –° —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ç—á–µ—Ç–∞
python scripts/docs_link_checker.py --report docs/link-check-report.md

# –° –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ä–∞–∑–¥–µ–ª–∞ —Ä–µ—à–µ–Ω–∏–π
python scripts/docs_link_checker.py --exclude docs/decisions/**
```

**–ß–µ—Ä–µ–∑ Makefile:**

```powershell
make docs-check-links
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
üîó –ü–†–û–í–ï–†–ö–ê –ö–†–û–°–°-–°–°–´–õ–û–ö –í –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò
–ù–∞–π–¥–µ–Ω–æ 56 markdown —Ñ–∞–π–ª–æ–≤

üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–†–û–í–ï–†–ö–ò
–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: 56
–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å—Å—ã–ª–æ–∫: 342
–û—à–∏–±–æ–∫: 3
–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π: 1

‚ùå –û–®–ò–ë–ö–ò:
1. stories/epic-3/3.2.2.conflict-resolution.md:60
   –°—Å—ã–ª–∫–∞: [SyncConflict](docs/architecture/02-data-models.md#syncconflict)
   –û—à–∏–±–∫–∞: –Ø–∫–æ—Ä—å '#syncconflict' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ 02-data-models.md
```

---

### docs_index_generator.py

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ `docs/index.md`
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è README.md –≤ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –æ–ø–∏—Å–∞–Ω–∏–π
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```powershell
# –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã
python scripts/docs_index_generator.py

# –ü–æ–∫–∞–∑–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –∑–∞–ø–∏—Å–∏
python scripts/docs_index_generator.py --dry-run

# –¢–æ–ª—å–∫–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
python scripts/docs_index_generator.py --stats

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∑–¥–µ–ª legacy
python scripts/docs_index_generator.py --exclude docs/legacy/**
```

**–ß–µ—Ä–µ–∑ Makefile:**

```powershell
make docs-update-index
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
üìù –û–ë–ù–û–í–õ–ï–ù–ò–ï –ì–õ–ê–í–ù–û–ì–û –ò–ù–î–ï–ö–°–ê
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω: docs/index.md

üìö –û–ë–ù–û–í–õ–ï–ù–ò–ï README –í –ö–ê–¢–ï–ì–û–†–ò–Ø–•
‚úÖ –°–æ–∑–¥–∞–Ω/–æ–±–Ω–æ–≤–ª–µ–Ω: stories/epic-3/README.md
‚úÖ –°–æ–∑–¥–∞–Ω/–æ–±–Ω–æ–≤–ª–µ–Ω: decisions/README.md

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò
–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
  –í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤: 72
  –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: 1247.3 KB
  –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 12.10.2025

–ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
  architecture: 22 —Ñ–∞–π–ª–æ–≤
  decisions: 10 —Ñ–∞–π–ª–æ–≤
  stories: 37 —Ñ–∞–π–ª–æ–≤
```

---

## üîß –°–∫—Ä–∏–ø—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### run-tests-docker.ps1

PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```powershell
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
.\scripts\run-tests-docker.ps1

# –¢–æ–ª—å–∫–æ unit-—Ç–µ—Å—Ç—ã
.\scripts\run-tests-docker.ps1 -TestType unit

# –¢–æ–ª—å–∫–æ integration-—Ç–µ—Å—Ç—ã
.\scripts\run-tests-docker.ps1 -TestType integration
```

---

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ workflow

### Pre-commit hook

–î–æ–±–∞–≤—å—Ç–µ –≤ `.git/hooks/pre-commit`:

```bash
#!/bin/sh
# –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏..."
python scripts/docs_validator.py cross-links || {
    echo "‚ùå –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–∫–∏!"
    echo "–ó–∞–ø—É—Å—Ç–∏—Ç–µ: make docs-validate"
    exit 1
}

echo "‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞"
```

### GitHub Actions

–ü—Ä–∏–º–µ—Ä workflow –¥–ª—è CI/CD:

```yaml
name: Documentation Validation

on:
  pull_request:
    paths:
      - 'docs/**'
      - 'backend/**'

jobs:
  validate-docs:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.12'
      
      - name: Validate documentation
        run: |
          python scripts/docs_validator.py validate
          python scripts/docs_link_checker.py
```

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

**Python:** 3.8+

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è docs –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:

```powershell
cd c:\Users\38670\DEV_WEB\FREESPORT
python scripts/docs_validator.py validate
```

### –û—à–∏–±–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –Ω–∞ Windows

–°–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç UTF-8. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:

```powershell
$env:PYTHONIOENCODING="utf-8"
python scripts/docs_validator.py validate
```

### –¶–≤–µ—Ç–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ PowerShell

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Windows Terminal –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ PowerShell:

```powershell
$env:TERM="xterm-256color"
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **Workflow –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** `.windsurf/workflows/docs-workflow.md`
- **Makefile –∫–æ–º–∞–Ω–¥—ã:** `make help`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:** `docs/architecture/`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 12.10.2025
