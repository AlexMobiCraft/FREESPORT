# План запуска разработки фронтенда FREESPORT

## 1. Назначение и охват

Документ определяет практические шаги для старта и последовательной реализации фронтенд-части платформы FREESPORT с учётом актуальных требований, архитектурных ограничений и отказа от авторизации через соцсети.

## 2. Базовые артефакты и источники требований

- Архитектурная документация и система нумерованных разделов проекта.@docs/architecture.md#5-48
- Руководство по среде разработки (Docker, Makefile, конфигурация окружений).@docs/architecture/19-development-environment.md#54-256
- Технический стек и стандарты кодирования фронтенда (Next.js, TypeScript, Tailwind, ESLint).@docs/architecture/05-tech-stack.md#15-36@docs/architecture/coding-standards.md#227-399
- Спецификация UI/UX, пользовательские потоки и каркасы страниц.@docs/front-end-spec.md#50-356@docs/front-end-spec.md#462-589@docs/front-end-spec.md#623-717
- OpenAPI-спецификация и описание ViewSet-ов бэкенда.@docs/api-spec.yaml#53-524@docs/api-views-documentation.md#13-394

## 3. Принципы реализации

1. **API-first**: каждая реализуемая функция опирается на существующие REST-эндпоинты, см. @docs/api-spec.yaml#53-524.
2. **Чистая архитектура фронтенда**: поддержка структуры `src/app`, `src/components`, `src/services`, `src/store` и повторное использование UI-компонентов.@docs/front-end-spec.md#522-717
3. **Типобезопасность и стандарты кода**: строгий ESLint + TypeScript, Tailwind конвенции и unit-тесты компонентов.@docs/architecture/coding-standards.md#227-399
4. **SSR/SSG/CSR гибрид**: использовать App Router и server components для SEO-критичных страниц (каталог, карточка товара), CSR — для интерактивных разделов личного кабинета.
5. **Без соцлогина**: регистрация и авторизация выполняются только классическими формами; интеграция OAuth откладывается до отдельного запроса.

## 4. Подготовка окружения

1. Запустить среду разработки через Docker (`make up`) и убедиться в доступности сервисов (frontend: 3000, backend API: 8001).@docs/architecture/19-development-environment.md#54-116
2. Синхронизировать файлы окружений: `backend/.env`, `frontend/.env.local`, заполнить API URL (`http://localhost:8001/api/v1`).@docs/architecture/19-development-environment.md#137-181
3. Настроить инструменты качества: ESLint (Next core web vitals, react-hooks, jsx-a11y), Prettier, Husky/lint-staged (по необходимости).@docs/architecture/coding-standards.md#227-399
4. Установить рекомендованные IDE-настройки (VSCode extensions, formatOnSave).@docs/architecture/19-development-environment.md#312-350

## 5. Базовая архитектура фронтенда

1. Проверить и, при необходимости, создать директории `src/app`, `src/components`, `src/modules`, `src/lib`, `src/store`, `src/types`.
2. Подготовить глобальные провайдеры (`layout.tsx`, контекст состояния, провайдеры Tailwind/Theme/Zustand).
3. Реализовать UI-kit из спецификации (кнопки, инпуты, карточки, модалки, фильтры) в `src/components/ui`.@docs/front-end-spec.md#522-717
4. Настроить Zustand store для аутентификации, корзины и пользовательских настроек (режим отображения каталога, фильтры).@docs/architecture/coding-standards.md#296-350

## 6. Слой взаимодействия с API

1. Создать централизованный клиент (`src/services/api-client.ts`) с интерцепторами для JWT и обработкой 401.
2. Сгенерировать или описать TypeScript-типы ответов по OpenAPI (инструменты: `openapi-typescript`, `orval`).@docs/api-spec.yaml#53-524
3. Реализовать сервисы для ключевых областей: аутентификация (`/auth/login`, `/auth/register`, `/auth/refresh`), каталог, категории, корзина, заказы, статические страницы.@docs/api-spec.yaml#57-577
4. Обновить хранилища Zustand для работы с этими сервисами.

## 7. Реализация ключевых страниц

### 7.1 Главная страница (`/`)

- Баннер с ролевыми сообщениями, блоки «Новинки», «Хиты», бренды, популярные категории, новости, форма подписки.@docs/front-end-spec.md#462-500
- Источники данных: каталог (подборки), статические страницы/новости (уточнить API), форма подписки (REST или интеграция с email-сервисом).

### 7.2 Каталог (`/catalog/...`)

- Многоуровневая навигация, фильтры, сортировка, переключение вида карточек.@docs/front-end-spec.md#207-223@docs/front-end-spec.md#565-693
- Использовать SSR/ISR для повышения SEO, хранить состояние фильтров в query-параметрах.

### 7.3 Карточка товара (`/product/[slug]`)

- Галерея, выбор опций (размер, цвет), наличие, минимальный объём заказа, действия «В корзину», «В избранное».@docs/front-end-spec.md#504-519@docs/front-end-spec.md#565-589
- Подгрузка связанных товаров и спецификаций по API.

### 7.4 Поиск (`/search`)

- Строка поиска с автодополнением, страница результатов с фильтрами и сортировкой (дебаунс, кеширование запросов).@docs/front-end-spec.md#249-255
- Требуется уточнить или расширить API для подсказок.

### 7.5 Регистрация и авторизация (`/login`, `/register`, `/password-reset`, `/b2b-register`)

- Классические формы входа, регистрации (B2C/B2B) и восстановления пароля; социальные провайдеры исключены.
- Валидировать поля согласно бизнес-правилам (ИНН, компания, минимальные требования к паролю).@docs/front-end-spec.md#241-273

### 7.6 Корзина (`/cart`) и Single Page Checkout (`/checkout`)

- Корзина: список товаров, изменение количества, подсчёт итогов, применение промокода (после согласования API).@docs/front-end-spec.md#256-260
- SPA checkout: единая форма контактных данных, адреса, способа доставки и оплаты; интеграция с заказами `/orders/` и адресами пользователя.@docs/api-spec.yaml#453-520

### 7.7 Личный кабинет (`/profile/...`)

- **Профиль**: редактирование персональных данных и настроек.
- **Мои заказы**: список, детализация, повтор заказа.@docs/front-end-spec.md#331-356@docs/api-spec.yaml#453-520
- **Адреса доставки**: CRUD операций через соответствующие API.@docs/api-views-documentation.md#351-394
- **Избранное**: управление избранными товарами (нужен UI-макет на основе карточек).@docs/front-end-spec.md#565-589

### 7.8 Информационные страницы (`/info/[slug]`)

- Универсальный шаблон для «О нас», «Доставка и оплата», «Контакты», «Политика конфиденциальности» с контентом из `/pages/` API.@docs/front-end-spec.md#179-205@docs/api-spec.yaml#528-577
- Обеспечить SEO-метаданные и кэширование (ISR).

## 8. Контроль качества и тестирование

1. Тесты компонентов (Jest + Testing Library) и e2e сценарии (Playwright/Cypress) для ключевых потоков (login, заказ, поиск).@docs/architecture/coding-standards.md#190-225
2. Автоматические проверки: `npm run lint`, `npm run test`, `npm run type-check` в CI.
3. Перформанс и доступность: Lighthouse, проверка WCAG 2.1 AA для критичных страниц.@docs/architecture/coding-standards.md#13-20

## 9. Риски и уточнения

- **Промокоды и автодополнение**: требуется подтвердить или расширить API перед реализацией UI.
- **Источники новостей/подписок**: уточнить бекенд или CMS, чтобы закрепить контентный pipeline.
- **B2B-профили и статусы заказов**: согласовать отображаемые статусы и действия в UI согласно бизнес-логике.

Документ может служить основой для декомпозиции на user stories и спринтов. Продолжение работ следует вести в соответствии со стандартами и актуальными архитектурными решениями проекта.
