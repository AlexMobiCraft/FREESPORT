# Story 12.8: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ö–∞—Ç–∞–ª–æ–≥–∞

## Status

Draft

## Prerequisites

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–´–ï –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–±–ª–æ–∫–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏):**

- **Story 12.6 (–ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)** - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û**: Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è MobileFiltersModal (Task 10). –ë–µ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Story 12.6 –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è mobile –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏.

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

- **Story 12.1 (–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω-—Ç–æ–∫–µ–Ω–æ–≤)** - CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ Tailwind –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- **Story 12.2 (–ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)** - Button, Input, Badge –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- **Story 12.3 (–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)** - Breadcrumbs, Pagination –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã
- **Story 12.4 (–ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤)** - ProductCard —Å grid/list/compact layouts –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–æ—Ç–æ–≤
- **Story 12.5 (–§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫)** - SidebarFilters, SearchField, Checkbox, Select, PriceRangeSlider –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã

## Story

**As a** Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫,
**I want** —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–æ–≤–æ–º—É –º–∞–∫–µ—Ç—É Design System v2.0,
**so that** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ FREESPORT –º–æ–≥–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º –≤–∏–∑—É–∞–ª—å–Ω—ã–º —Å—Ç–∏–ª–µ–º, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –º–æ–Ω–æ—Ö—Ä–æ–º–Ω–æ–π –≥—Ä–∞—Ñ–∏—Ç–æ–≤–æ–π —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º–µ.

## Acceptance Criteria

1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Å–æ–≥–ª–∞—Å–Ω–æ Design System v2.0:
   - Layout: Sidebar —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å–ª–µ–≤–∞ (280px) + Grid —Ç–æ–≤–∞—Ä–æ–≤ —Å–ø—Ä–∞–≤–∞
   - Background: canvas (#F5F7FB)
   - Container: max-w-[1280px] mx-auto
   - Padding: desktop 24px, tablet 16px, mobile 12px
   - Gap –º–µ–∂–¥—É sidebar –∏ grid: 24px

2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Breadcrumbs –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω:
   - –ü–æ–∑–∏—Ü–∏—è: –Ω–∞–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –§–æ—Ä–º–∞—Ç: –ì–ª–∞–≤–Ω–∞—è / –°–ü–û–†–¢ / –ï–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤–∞ / –û–¥–µ–∂–¥–∞ –¥–ª—è –µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ Story 12.3
   - –ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π, –≤—ã–¥–µ–ª–µ–Ω text-primary

3. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
   - Typography: headline-l (32px), font-weight: 700, text-primary
   - Margin bottom: 24px
   - –ù–∞–ø—Ä–∏–º–µ—Ä: "–ú—É–∂—Å–∫–∏–µ —Ö—É–¥–∏ –∏ —Ç–æ–ª—Å—Ç–æ–≤–∫–∏"

4. –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (SEO-—Ç–µ–∫—Å—Ç) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
   - Typography: body-m (16px), text-secondary
   - Max 2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
   - Line-clamp-3 —Å –∫–Ω–æ–ø–∫–æ–π "–ü–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ"
   - Margin bottom: 32px

5. Sidebar —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç SidebarFilters –∏–∑ Story 12.5
   - –®–∏—Ä–∏–Ω–∞: 280px
   - Sticky –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: top-84px (Header 60px + –æ—Ç—Å—Ç—É–ø 24px)
   - –§–∏–ª—å—Ç—Ä—ã: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ), –ë—Ä–µ–Ω–¥—ã, –¶–µ–Ω–∞ (range slider), –†–∞–∑–º–µ—Ä, –¶–≤–µ—Ç
   - –ö–Ω–æ–ø–∫–∏ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å" –∏ "–°–±—Ä–æ—Å–∏—Ç—å" –≤–Ω–∏–∑—É
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –Ω–∞ mobile —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º

6. Toolbar –Ω–∞–¥ Grid —Ç–æ–≤–∞—Ä–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω:
   - –õ–µ–≤—ã–π –±–ª–æ–∫: "–ü–æ–∫–∞–∑–∞–Ω–æ X –∏–∑ Y —Ç–æ–≤–∞—Ä–æ–≤" (body-m, text-secondary)
   - –¶–µ–Ω—Ç—Ä: –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å grid/list view (–∏–∫–æ–Ω–∫–∏ ‚äû –∏ ‚â°)
   - –ü—Ä–∞–≤—ã–π –±–ª–æ–∫: SortSelect (–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
   - Height: 56px
   - Background: white
   - Border bottom: 1px solid #E3E8F2
   - Padding: 12px 24px
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –Ω–∞ mobile —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π layout (—Ç–æ–ª—å–∫–æ —Å—á–µ—Ç—á–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)

7. Grid —Ç–æ–≤–∞—Ä–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ProductCard –∏–∑ Story 12.4
   - Layout –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ: grid (default) –∏ list views
   - Grid view: grid-cols-4 (desktop), grid-cols-3 (tablet), grid-cols-2 (mobile)
   - Gap: 16px –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
   - List view: 1 –∫–æ–ª–æ–Ω–∫–∞, ProductCard –≤ layout="list"
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (–Ω–µ infinite scroll)

8. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Pagination –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω:
   - –ü–æ–∑–∏—Ü–∏—è: –ø–æ–¥ grid —Ç–æ–≤–∞—Ä–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ Story 12.3
   - –§–æ—Ä–º–∞—Ç: [‚Üê] [1] [2] [3] ... [18] [‚Üí]
   - Margin top: 48px
   - Center aligned

9. Active Filters Chips –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:
   - –ü–æ–∑–∏—Ü–∏—è: –Ω–∞–¥ grid —Ç–æ–≤–∞—Ä–æ–≤, –ø–æ–¥ toolbar
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Chip –∏–∑ Story 12.5
   - –§–æ—Ä–º–∞—Ç: "–ë—Ä–µ–Ω–¥: Nike [X]", "–¶–µ–Ω–∞: 5000-10000‚ÇΩ [X]"
   - Gap: 8px –º–µ–∂–¥—É chips
   - –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã" —Å–ø—Ä–∞–≤–∞
   - Margin: 16px 0

10. SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞:
    - Next.js Metadata API —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º title –∏ description
    - Title —Ñ–æ—Ä–º–∞—Ç: "{–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏} - FREESPORT"
    - Description: SEO-—Ç–µ–∫—Å—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø–µ—Ä–≤—ã–µ 160 —Å–∏–º–≤–æ–ª–æ–≤)
    - OpenGraph –º–µ—Ç–∞—Ç–µ–≥–∏
    - Canonical URL
    - Structured data (JSON-LD) –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤

11. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω–∞:
    - Desktop (>= 1024px): sidebar + grid 4 –∫–æ–ª–æ–Ω–∫–∏
    - Tablet (641-1024px): sidebar + grid 3 –∫–æ–ª–æ–Ω–∫–∏
    - Mobile (<= 640px): sidebar –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ, grid 2 –∫–æ–ª–æ–Ω–∫–∏
    - Padding: desktop 24px, tablet 16px, mobile 12px
    - –í—Å–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ touch —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

12. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç accessibility –ø—Ä–æ–≤–µ—Ä–∫—É:
    - Semantic HTML (main, aside, section, nav)
    - Aria-labels –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    - Keyboard navigation (Tab, Enter, Escape)
    - Focus states –≤–∏–¥–∏–º—ã (ring-2 primary)
    - Skip to content link –¥–ª—è screen readers
    - WCAG 2.1 AA compliance

13. –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ:
    - Unit —Ç–µ—Å—Ç—ã –¥–ª—è page component
    - –¢–µ—Å—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    - –¢–µ—Å—Ç—ã –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è grid/list view
    - –¢–µ—Å—Ç—ã pagination
    - Accessibility —Ç–µ—Å—Ç—ã
    - –ü–æ–∫—Ä—ã—Ç–∏–µ >= 80%

## Tasks / Subtasks

- [ ] Task 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞ (AC: 1, 10, 11, 12)
  - [ ] 1.1 –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `frontend/src/app/catalog/[...slug]/page.tsx` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞:
    ```typescript
    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: /catalog/sport/fitness –∏–ª–∏ /catalog/sport
    interface CatalogPageProps {
      params: { slug: string[] }
      searchParams: { [key: string]: string | string[] | undefined }
    }
    ```
  - [ ] 1.2 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Next.js Metadata API —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º generateMetadata():
    - title: "{–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏} - FREESPORT"
    - description: SEO-—Ç–µ–∫—Å—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    - openGraph —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - [ ] 1.3 –°–æ–∑–¥–∞—Ç—å layout —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
    - Container: max-w-[1280px] mx-auto px-6 md:px-4 sm:px-3
    - Background: bg-canvas (#F5F7FB)
    - Main semantic tag
  - [ ] 1.4 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π grid:
    - flex lg:flex-row flex-col gap-6
    - Sidebar: lg:w-[280px] lg:flex-shrink-0
    - Content: flex-1
  - [ ] 1.5 –î–æ–±–∞–≤–∏—Ç—å aria-labels –∏ semantic HTML
  - [ ] 1.6 –°–æ–∑–¥–∞—Ç—å generateStaticParams() –¥–ª—è SSG –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

- [ ] Task 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Breadcrumbs (AC: 2, 12)
  - [ ] 2.1 –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Breadcrumbs –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ Story 12.3
  - [ ] 2.2 –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é generateBreadcrumbs(slug: string[]):
    ```typescript
    // –ü—Ä–∏–º–µ—Ä: ['sport', 'fitness'] ‚Üí
    // [{ label: '–ì–ª–∞–≤–Ω–∞—è', href: '/' },
    //  { label: '–°–ü–û–†–¢', href: '/catalog/sport' },
    //  { label: '–§–∏—Ç–Ω–µ—Å –∏ –∞—Ç–ª–µ—Ç–∏–∫–∞', href: '/catalog/sport/fitness' }]
    ```
  - [ ] 2.3 –†–∞–∑–º–µ—Å—Ç–∏—Ç—å Breadcrumbs –Ω–∞–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º:
    - Position: mb-4 (16px –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É)
  - [ ] 2.4 –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π separator (/)
  - [ ] 2.5 –ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –Ω–µ —Å—Å—ã–ª–∫–∞

- [ ] Task 3: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ CategoryHeader (AC: 3, 4, 10)
  - [ ] 3.1 –°–æ–∑–¥–∞—Ç—å `frontend/src/components/catalog/CategoryHeader.tsx`:
    ```typescript
    interface CategoryHeaderProps {
      title: string
      description?: string
    }
    ```
  - [ ] 3.2 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫:
    - h1, text-3xl font-bold text-text-primary
    - mb-3 (12px)
  - [ ] 3.3 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Å expandable —Ñ—É–Ω–∫—Ü–∏–µ–π:
    - text-body-m text-text-secondary
    - line-clamp-3 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    - –ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ" / "–°–∫—Ä—ã—Ç—å" (tertiary button)
    - State: isExpanded –¥–ª—è toggle
  - [ ] 3.4 Margin bottom: mb-8 (32px) –æ—Ç grid

- [ ] Task 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è SidebarFilters (AC: 5, 11)
  - [ ] 4.1 –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å SidebarFilters –∏–∑ Story 12.5
  - [ ] 4.2 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å sticky –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:
    - lg:sticky lg:top-[84px] (60px header + 24px –æ—Ç—Å—Ç—É–ø)
    - lg:h-[calc(100vh-84px-24px)] overflow-y-auto
  - [ ] 4.3 –ü–µ—Ä–µ–¥–∞—Ç—å –ø—Ä–æ–ø—Å—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤:
    - categories: –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    - brands: —Å–ø–∏—Å–æ–∫ –±—Ä–µ–Ω–¥–æ–≤ –∏–∑ API
    - priceRange: { min, max } –∏–∑ API
    - sizes: —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è –¥–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    - colors: –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ü–≤–µ—Ç–∞
    - onApply: (filters) => void
    - onReset: () => void
  - [ ] 4.4 –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å mobile:
    - –°–∫—Ä—ã—Ç—å –Ω–∞ <= 1023px: hidden lg:block
    - –°–æ–∑–¥–∞—Ç—å –∫–Ω–æ–ø–∫—É "–§–∏–ª—å—Ç—Ä—ã" —Å –∏–∫–æ–Ω–∫–æ–π Filter (lucide-react)
    - –û—Ç–∫—Ä—ã–≤–∞—Ç—å SidebarFilters –≤ Modal –Ω–∞ mobile
  - [ ] 4.5 –°–æ–∑–¥–∞—Ç—å MobileFiltersModal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

- [ ] Task 5: –°–æ–∑–¥–∞–Ω–∏–µ Toolbar –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (AC: 6, 11)
  - [ ] 5.1 –°–æ–∑–¥–∞—Ç—å `frontend/src/components/catalog/CatalogToolbar.tsx`:
    ```typescript
    interface CatalogToolbarProps {
      totalCount: number
      displayedCount: number
      viewMode: 'grid' | 'list'
      onViewModeChange: (mode: 'grid' | 'list') => void
      sortBy: string
      onSortChange: (sortBy: string) => void
      onMobileFiltersOpen?: () => void
    }
    ```
  - [ ] 5.2 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–µ–≤—ã–π –±–ª–æ–∫ (—Å—á–µ—Ç—á–∏–∫):
    - "–ü–æ–∫–∞–∑–∞–Ω–æ {displayedCount} –∏–∑ {totalCount} —Ç–æ–≤–∞—Ä–æ–≤"
    - text-body-m text-text-secondary
  - [ ] 5.3 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å grid/list:
    - –î–≤–µ –∫–Ω–æ–ø–∫–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏ Grid (‚äû) –∏ List (‚â°)
    - Active button: bg-neutral-200, text-primary
    - Inactive: bg-transparent, text-secondary
    - Size: 40x40px, rounded-md
    - Gap: 8px –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏
  - [ ] 5.4 –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å SortSelect –∏–∑ Story 12.5:
    - –û–ø—Ü–∏–∏: –ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏, –¶–µ–Ω–∞ ‚Üë, –¶–µ–Ω–∞ ‚Üì, –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –ù–æ–≤–∏–Ω–∫–∏, –ü–æ –Ω–∞–ª–∏—á–∏—é
  - [ ] 5.5 –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å mobile:
    - –ö–Ω–æ–ø–∫–∞ "–§–∏–ª—å—Ç—Ä—ã" —Å–ª–µ–≤–∞ (–∏–∫–æ–Ω–∫–∞ Filter)
    - –°—á–µ—Ç—á–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π: "210 —Ç–æ–≤–∞—Ä–æ–≤")
    - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–ø—Ä–∞–≤–∞
    - –°–∫—Ä—ã—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å grid/list

- [ ] Task 6: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ProductGrid –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (AC: 7)
  - [ ] 6.1 –°–æ–∑–¥–∞—Ç—å `frontend/src/components/catalog/ProductGrid.tsx`:
    ```typescript
    interface ProductGridProps {
      products: Product[]
      viewMode: 'grid' | 'list'
      loading?: boolean
      userRole?: UserRole
      mode?: 'b2c' | 'b2b'
      onAddToCart: (productId: number) => void
      onToggleFavorite: (productId: number) => void
    }
    ```
  - [ ] 6.2 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å grid layout:
    - grid grid-cols-4 lg:grid-cols-3 md:grid-cols-2 gap-4
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ProductCard layout="grid"
  - [ ] 6.3 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å list layout:
    - flex flex-col gap-4
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ProductCard layout="list"
  - [ ] 6.4 –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ Loading:
    - Skeleton placeholders –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫
    - Shimmer effect (animate-pulse)
  - [ ] 6.5 –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ Empty:
    - "–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
    - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã

- [ ] Task 7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Pagination (AC: 8)
  - [ ] 7.1 –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Pagination –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ Story 12.3
  - [ ] 7.2 –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø–æ–¥ ProductGrid:
    - mt-12 (48px)
    - Center aligned: flex justify-center
  - [ ] 7.3 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–ø—Å—ã:
    - currentPage: –∏–∑ searchParams (page)
    - totalPages: –≤—ã—á–∏—Å–ª–∏—Ç—å –∏–∑ totalCount –∏ itemsPerPage (24)
    - onPageChange: –æ–±–Ω–æ–≤–∏—Ç—å URL —Å –Ω–æ–≤—ã–º page parameter
  - [ ] 7.4 Scroll to top –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
    - window.scrollTo({ top: 0, behavior: 'smooth' })

- [ ] Task 8: –°–æ–∑–¥–∞–Ω–∏–µ ActiveFiltersChips –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (AC: 9)
  - [ ] 8.1 –°–æ–∑–¥–∞—Ç—å `frontend/src/components/catalog/ActiveFiltersChips.tsx`:
    ```typescript
    interface ActiveFiltersChipsProps {
      filters: { key: string; label: string; value: string }[]
      onRemove: (key: string) => void
      onClearAll: () => void
    }
    ```
  - [ ] 8.2 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Chips —Ä—è–¥:
    - flex flex-wrap gap-2
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chip –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ Story 12.5
    - –§–æ—Ä–º–∞—Ç: "{label}: {value} [X]"
  - [ ] 8.3 –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ":
    - ml-auto –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è —Å–ø—Ä–∞–≤–∞
    - tertiary variant button
    - text-body-s
  - [ ] 8.4 –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:
    - –ú–µ–∂–¥—É Toolbar –∏ ProductGrid
    - my-4 (16px margin top/bottom)

- [ ] Task 9: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è API integration –∏ state management (AC: 7, 13)
  - [ ] 9.1 –°–æ–∑–¥–∞—Ç—å API service `frontend/src/services/catalogService.ts`:
    ```typescript
    interface FetchProductsParams {
      categorySlug: string
      page: number
      limit: number
      sortBy: string
      filters: FilterParams
    }
    async function fetchProducts(params: FetchProductsParams): Promise<ProductsResponse>
    async function fetchCategoryData(slug: string[]): Promise<CategoryData>
    ```
  - [ ] 9.2 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å state management (Zustand –∏–ª–∏ useState):
    - products: Product[]
    - loading: boolean
    - filters: FilterParams
    - viewMode: 'grid' | 'list'
    - sortBy: string
    - currentPage: number
    - totalCount: number
  - [ ] 9.3 –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å state —Å URL searchParams:
    - –§–∏–ª—å—Ç—Ä—ã –≤ query string: ?brand=nike&priceMin=5000
    - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: ?sortBy=price_asc
    - –°—Ç—Ä–∞–Ω–∏—Ü–∞: ?page=2
    - **View mode —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ localStorage (–¢–û–õ–¨–ö–û –≤ Client Component):**
      - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `'use client'` directive –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è viewMode
      - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `useEffect` –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ: `localStorage.setItem('catalog_view_mode', viewMode)`
      - Default viewMode –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: `'grid'` (–¥–ª—è SSR)
      - –ü—Ä–∏–º–µ—Ä:
        ```typescript
        'use client'
        const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid')

        useEffect(() => {
          // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
          const saved = localStorage.getItem('catalog_view_mode')
          if (saved === 'list' || saved === 'grid') setViewMode(saved)
        }, [])

        useEffect(() => {
          localStorage.setItem('catalog_view_mode', viewMode)
        }, [viewMode])
        ```
      - **–í–ê–ñ–ù–û**: –ò–∑–±–µ–≥–∞—Ç—å hydration mismatch –º–µ–∂–¥—É SSR –∏ client
  - [ ] 9.4 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å useEffect –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
    - –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ slug, filters, sortBy, page
    - Debounce –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤: 300ms

- [ ] Task 10: –°–æ–∑–¥–∞–Ω–∏–µ MobileFiltersModal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (AC: 5, 11, 12)
  - [ ] 10.1 –°–æ–∑–¥–∞—Ç—å `frontend/src/components/catalog/MobileFiltersModal.tsx`:
    ```typescript
    interface MobileFiltersModalProps {
      isOpen: boolean
      onClose: () => void
      filters: FilterParams
      onApply: (filters: FilterParams) => void
      onReset: () => void
      // ... –¥—Ä—É–≥–∏–µ props –¥–ª—è SidebarFilters
    }
    ```
  - [ ] 10.2 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑ Story 12.6
  - [ ] 10.3 –†–∞–∑–º–µ—Å—Ç–∏—Ç—å SidebarFilters –≤–Ω—É—Ç—Ä–∏ Modal:
    - Fullscreen –Ω–∞ mobile: size="full"
    - Header: "–§–∏–ª—å—Ç—Ä—ã" —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–∫—Ä—ã—Ç–∏—è
    - Footer: –∫–Ω–æ–ø–∫–∏ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å" –∏ "–°–±—Ä–æ—Å–∏—Ç—å"
  - [ ] 10.4 –û–±—Ä–∞–±–æ—Ç–∞—Ç—å Escape –∏ backdrop click –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è
  - [ ] 10.5 –î–æ–±–∞–≤–∏—Ç—å transition animation: slide from bottom

- [ ] Task 11: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è SEO –º–µ—Ç–∞—Ç–µ–≥–æ–≤ (AC: 10)
  - [ ] 11.1 –°–æ–∑–¥–∞—Ç—å generateMetadata() –≤ page.tsx:
    ```typescript
    export async function generateMetadata({ params }: CatalogPageProps): Promise<Metadata> {
      const categoryData = await fetchCategoryData(params.slug)
      return {
        title: `${categoryData.name} - FREESPORT`,
        description: categoryData.seoDescription,
        openGraph: {
          title: `${categoryData.name} - FREESPORT`,
          description: categoryData.seoDescription,
          images: [categoryData.ogImage]
        }
      }
    }
    ```
  - [ ] 11.2 –î–æ–±–∞–≤–∏—Ç—å JSON-LD structured data –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤:
    ```typescript
    const structuredData = {
      "@context": "https://schema.org",
      "@type": "ItemList",
      "itemListElement": products.map((product, index) => ({
        "@type": "Product",
        "position": index + 1,
        "name": product.name,
        "image": product.image,
        "offers": {
          "@type": "Offer",
          "price": product.price,
          "priceCurrency": "RUB"
        }
      }))
    }
    ```
  - [ ] 11.3 –î–æ–±–∞–≤–∏—Ç—å canonical URL:
    - alternates: { canonical: `/catalog/${slug.join('/')}` }
  - [ ] 11.4 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å robots meta –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

- [ ] Task 12: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (AC: 13)
  - [ ] 12.1 –°–æ–∑–¥–∞—Ç—å `frontend/src/app/catalog/[...slug]/__tests__/page.test.tsx`:
    - –¢–µ—Å—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å mock –¥–∞–Ω–Ω—ã–º–∏
    - –¢–µ—Å—Ç Breadcrumbs –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    - –¢–µ—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - [ ] 12.2 –°–æ–∑–¥–∞—Ç—å `frontend/src/components/catalog/__tests__/CategoryHeader.test.tsx`:
    - –¢–µ—Å—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
    - –¢–µ—Å—Ç expandable –æ–ø–∏—Å–∞–Ω–∏—è
  - [ ] 12.3 –°–æ–∑–¥–∞—Ç—å `frontend/src/components/catalog/__tests__/CatalogToolbar.test.tsx`:
    - –¢–µ—Å—Ç —Å—á–µ—Ç—á–∏–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
    - –¢–µ—Å—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è grid/list
    - –¢–µ—Å—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
  - [ ] 12.4 –°–æ–∑–¥–∞—Ç—å `frontend/src/components/catalog/__tests__/ProductGrid.test.tsx`:
    - –¢–µ—Å—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ grid view
    - –¢–µ—Å—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ list view
    - –¢–µ—Å—Ç loading state
    - –¢–µ—Å—Ç empty state
  - [ ] 12.5 –°–æ–∑–¥–∞—Ç—å `frontend/src/components/catalog/__tests__/ActiveFiltersChips.test.tsx`:
    - –¢–µ—Å—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ chips
    - –¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è chip
    - –¢–µ—Å—Ç –æ—á–∏—Å—Ç–∫–∏ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
  - [ ] 12.6 –°–æ–∑–¥–∞—Ç—å integration —Ç–µ—Å—Ç—ã:
    - –¢–µ—Å—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
    - –¢–µ—Å—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    - –¢–µ—Å—Ç pagination
    - –¢–µ—Å—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ URL —Å state
  - [ ] 12.7 –°–æ–∑–¥–∞—Ç—å accessibility —Ç–µ—Å—Ç—ã:
    - **–¢–µ—Å—Ç keyboard navigation:**
      - Tab key –Ω–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –≤—Å–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (—Ñ–∏–ª—å—Ç—Ä—ã, –∫–∞—Ä—Ç–æ—á–∫–∏, pagination)
      - Enter key –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ –∏ —Å—Å—ã–ª–æ–∫
      - Space key toggle —á–µ–∫–±–æ–∫—Å–æ–≤
      - Escape key –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
      - Arrow keys –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ Select dropdown
    - **–¢–µ—Å—Ç ARIA attributes:**
      - `aria-label` –¥–ª—è –≤—Å–µ—Ö –∏–∫–æ–Ω–æ—á–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ (grid/list toggle, favorite, close)
      - `aria-current="page"` –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã pagination
      - `aria-expanded` –¥–ª—è collapsible filter groups
      - `role="search"` –¥–ª—è search field
      - `role="navigation"` –¥–ª—è breadcrumbs –∏ pagination
    - **–¢–µ—Å—Ç focus states:**
      - –í–∏–¥–∏–º—ã–µ focus rings (ring-2 ring-primary ring-offset-2)
      - Focus trap –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö
      - Restore focus –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–æ–≤
    - **–¢–µ—Å—Ç semantic HTML:**
      - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ heading levels (h1, h2, h3)
      - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `<main>`, `<aside>`, `<section>`, `<nav>` tags
      - Skip to content link –¥–ª—è screen readers
    - **–¢–µ—Å—Ç screen reader compatibility:**
      - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ jest-axe
      - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
      - –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ labels –¥–ª—è —Ñ–æ—Ä–º
  - [ ] 12.8 –ó–∞–ø—É—Å—Ç–∏—Ç—å coverage –∏ —É–±–µ–¥–∏—Ç—å—Å—è >= 80%

- [ ] Task 13: –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ accessibility audit (AC: 11, 12)
  - [ ] 13.1 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –≤—Å–µ—Ö breakpoints:
    - Desktop (>= 1024px)
    - Tablet (641-1024px)
    - Mobile (<= 640px)
  - [ ] 13.2 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å touch –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ mobile:
    - Tap targets >= 44x44px
    - Swipe –Ω–∞ –º–æ–¥–∞–ª—å–Ω–æ–º —Ñ–∏–ª—å—Ç—Ä–µ
  - [ ] 13.3 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å keyboard navigation:
    - Tab —á–µ—Ä–µ–∑ —Ñ–∏–ª—å—Ç—Ä—ã, –∫–∞—Ä—Ç–æ—á–∫–∏, pagination
    - Enter –Ω–∞ —á–µ–∫–±–æ–∫—Å—ã, –∫–Ω–æ–ø–∫–∏
    - Escape –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
  - [ ] 13.4 –ó–∞–ø—É—Å—Ç–∏—Ç—å Lighthouse audit:
    - Accessibility score >= 95
    - Performance score >= 90
    - SEO score >= 95
  - [ ] 13.5 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞—Å—Ç —Ç–µ–∫—Å—Ç–∞:
    - –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã WCAG 2.1 AA compliance (>= 4.5:1)
  - [ ] 13.6 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Lighthouse CI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫:
    - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `@lhci/cli` –∫–∞–∫ dev dependency
    - –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `lighthouserc.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
      ```json
      {
        "ci": {
          "collect": {
            "url": ["http://localhost:3000/catalog/sport"],
            "numberOfRuns": 3
          },
          "assert": {
            "assertions": {
              "categories:performance": ["error", {"minScore": 0.9}],
              "categories:accessibility": ["error", {"minScore": 0.95}],
              "categories:seo": ["error", {"minScore": 0.95}],
              "categories:best-practices": ["error", {"minScore": 0.9}]
            }
          }
        }
      }
      ```
    - –î–æ–±–∞–≤–∏—Ç—å npm script –≤ package.json: `"lighthouse": "lhci autorun"`
    - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ GitHub Actions CI/CD pipeline
    - **–¶–µ–ª–∏ –º–µ—Ç—Ä–∏–∫:**
      - Performance: >= 90
      - Accessibility: >= 95
      - SEO: >= 95
      - Best Practices: >= 90

## Dev Notes

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ [Source: docs/architecture/source-tree.md]

```
frontend/src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ catalog/
‚îÇ       ‚îî‚îÄ‚îÄ [...slug]/
‚îÇ           ‚îú‚îÄ‚îÄ page.tsx                        # –°–û–ó–î–ê–¢–¨ - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞
‚îÇ           ‚îî‚îÄ‚îÄ __tests__/
‚îÇ               ‚îî‚îÄ‚îÄ page.test.tsx               # –°–û–ó–î–ê–¢–¨ - —Ç–µ—Å—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ catalog/
‚îÇ       ‚îú‚îÄ‚îÄ CategoryHeader.tsx                  # –°–û–ó–î–ê–¢–¨
‚îÇ       ‚îú‚îÄ‚îÄ CatalogToolbar.tsx                  # –°–û–ó–î–ê–¢–¨
‚îÇ       ‚îú‚îÄ‚îÄ ProductGrid.tsx                     # –°–û–ó–î–ê–¢–¨
‚îÇ       ‚îú‚îÄ‚îÄ ActiveFiltersChips.tsx              # –°–û–ó–î–ê–¢–¨
‚îÇ       ‚îú‚îÄ‚îÄ MobileFiltersModal.tsx              # –°–û–ó–î–ê–¢–¨
‚îÇ       ‚îú‚îÄ‚îÄ index.ts                            # –°–û–ó–î–ê–¢–¨ - —ç–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ __tests__/
‚îÇ           ‚îú‚îÄ‚îÄ CategoryHeader.test.tsx         # –°–û–ó–î–ê–¢–¨
‚îÇ           ‚îú‚îÄ‚îÄ CatalogToolbar.test.tsx         # –°–û–ó–î–ê–¢–¨
‚îÇ           ‚îú‚îÄ‚îÄ ProductGrid.test.tsx            # –°–û–ó–î–ê–¢–¨
‚îÇ           ‚îî‚îÄ‚îÄ ActiveFiltersChips.test.tsx     # –°–û–ó–î–ê–¢–¨
‚îî‚îÄ‚îÄ services/
    ‚îî‚îÄ‚îÄ catalogService.ts                       # –°–û–ó–î–ê–¢–¨ - API –∫–ª–∏–µ–Ω—Ç
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö Stories

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω—ã):**
- **Story 12.1** - Design tokens (—Ü–≤–µ—Ç–∞, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞, spacing) –≤ `frontend/docs/design-system.json`
- **Story 12.2** - Button, Input, Badge –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥ –Ω–æ–≤—É—é –ø–∞–ª–∏—Ç—Ä—É
- **Story 12.3** - Breadcrumbs, Pagination –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –≤ `frontend/src/components/ui/`
- **Story 12.4** - ProductCard —Å grid/list/compact layouts –≤ `frontend/src/components/business/ProductCard/`
- **Story 12.5** - SidebarFilters, SearchField, Checkbox, Select, PriceRangeSlider, SortSelect, Chip –≤ `frontend/src/components/ui/` –∏ `frontend/src/components/catalog/`

### –ö–ª—é—á–µ–≤—ã–µ —Ü–≤–µ—Ç–∞ Design System v2.0 [Source: Story 12.7 Dev Notes]

```scss
// Primary
$primary-default: #1F1F1F;
$primary-hover: #3A3A3A;

// Canvas (—Ñ–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
$canvas: #F5F7FB;

// Neutral
$neutral-100: #FFFFFF;
$neutral-200: #F5F5F5;
$neutral-300: #E0E0E0;
$neutral-400: #D0D7E6;
$neutral-600: #7D7D7D;

// Text
$text-primary: #1B1B1B;
$text-secondary: #4D4D4D;
$text-muted: #7A7A7A;
$text-inverse: #FFFFFF;

// Accent
$accent-primary: #0060FF;
$accent-danger: #A63232;
```

### –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ [Source: Story 12.7 Dev Notes]

```typescript
// –î–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞
'headline-l': { size: 32, lineHeight: 40, weight: 700 }  // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
'body-m': { size: 16, lineHeight: 24, weight: 500 }      // –û–ø–∏—Å–∞–Ω–∏–µ, —Å—á–µ—Ç—á–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤
'body-s': { size: 14, lineHeight: 20, weight: 500 }      // –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

// Tailwind mapping
headline-l ‚Üí text-3xl font-bold
body-m ‚Üí text-base font-medium
body-s ‚Üí text-sm font-medium
```

### Spacing [Source: Story 12.7 Dev Notes]

```typescript
// Section spacing
sectionSpacing: {
  default: 48,      // mb-12 (–º–µ–∂–¥—É –∫—Ä—É–ø–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏)
  compact: 32       // mb-8 (–º–µ–∂–¥—É –º–µ–ª–∫–∏–º–∏ –±–ª–æ–∫–∞–º–∏)
}

// Component spacing
componentSpacing: {
  cardGap: 16,      // gap-4
  filterGap: 24,    // gap-6 (–º–µ–∂–¥—É sidebar –∏ grid)
  chipGap: 8,       // gap-2
}

// Grid
grid: {
  pageWidth: 1280,  // max-w-[1280px]
  gutters: 24,      // gap-6
  padding: {
    desktop: 24,    // px-6
    tablet: 16,     // px-4
    mobile: 12      // px-3
  }
}
```

### Shadows [Source: Story 12.7 Dev Notes]

```typescript
shadow-default: "0 8px 24px rgba(15, 23, 42, 0.08)"
shadow-hover: "0 10px 32px rgba(15, 23, 42, 0.12)"

// Tailwind classes
shadow: {
  DEFAULT: '0 8px 24px rgba(15, 23, 42, 0.08)',
  hover: '0 10px 32px rgba(15, 23, 42, 0.12)',
}
```

### Breakpoints [Source: Story 12.7 Dev Notes]

```typescript
breakpoints: {
  mobile: 640,    // sm (—Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã)
  tablet: 1024,   // lg (–ø–ª–∞–Ω—à–µ—Ç—ã)
  desktop: 1440   // xl (–¥–µ—Å–∫—Ç–æ–ø—ã)
}

// Tailwind responsive prefixes
// sm: >= 640px
// md: >= 768px
// lg: >= 1024px
// xl: >= 1280px
```

### –ú–∞–∫–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞ [Source: docs/front-end-spec.md#5-–∫–∞—Ç–∞–ª–æ–≥-—Ç–æ–≤–∞—Ä–æ–≤]

```text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [‚ñ† FREESPORT]        [üîç –ü–æ–∏—Å–∫_______________]        [‚ô°] [üõí] [üë§]     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ì–ª–∞–≤–Ω–∞—è / –ú—É–∂—á–∏–Ω–∞–º / –û–¥–µ–∂–¥–∞ / –•—É–¥–∏ –∏ —Ç–æ–ª—Å—Ç–æ–≤–∫–∏                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ú—É–∂—Å–∫–∏–µ —Ö—É–¥–∏ –∏ —Ç–æ–ª—Å—Ç–æ–≤–∫–∏                                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚îå‚îÄ SIDEBAR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  –ü–æ–∫–∞–∑–∞–Ω–æ 12 –∏–∑ 210 —Ç–æ–≤–∞—Ä–æ–≤    [‚äû] [‚â°] –ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏‚ñº‚îÇ
‚îÇ ‚îÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏     ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ ‚îÇ –í—Å—è –æ–¥–µ–∂–¥–∞    ‚îÇ  ‚îÇ [‚ô°] [IMG]  ‚îÇ ‚îÇ[SALE][IMG] ‚îÇ ‚îÇ [‚ô°] [IMG]  ‚îÇ         ‚îÇ
‚îÇ ‚îÇ –§—É—Ç–±–æ–ª–∫–∏      ‚îÇ  ‚îÇ            ‚îÇ ‚îÇ            ‚îÇ ‚îÇ            ‚îÇ         ‚îÇ
‚îÇ ‚îÇ ‚ñº–•—É–¥–∏ –∏ —Ç–æ–ª—Å—Ç ‚îÇ  ‚îÇ Nike       ‚îÇ ‚îÇ Adidas     ‚îÇ ‚îÇ Puma       ‚îÇ         ‚îÇ
‚îÇ ‚îÇ   –•—É–¥–∏        ‚îÇ  ‚îÇ Sportswear ‚îÇ ‚îÇ Essentials ‚îÇ ‚îÇ Graphic    ‚îÇ         ‚îÇ
‚îÇ ‚îÇ   –°–≤–∏—Ç—à–æ—Ç—ã    ‚îÇ  ‚îÇ Club Fleece‚îÇ ‚îÇ Hoodie     ‚îÇ ‚îÇ Sweatshirt ‚îÇ         ‚îÇ
‚îÇ ‚îÇ   –û–ª–∏–º–ø–∏–π–∫–∏   ‚îÇ  ‚îÇ 7 499‚ÇΩ     ‚îÇ ‚îÇ5 999‚ÇΩ 8 299‚ÇΩ‚îÇ ‚îÇ 6 899‚ÇΩ     ‚îÇ         ‚îÇ
‚îÇ ‚îÇ –ë—Ä—é–∫–∏ –∏ —à–æ—Ä—Ç—ã ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ ‚îÇ –ö—É—Ä—Ç–∫–∏        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ ‚îÇ               ‚îÇ  ‚îÇ [‚ô°] [IMG]  ‚îÇ ‚îÇ [‚ô°] [IMG]  ‚îÇ ‚îÇ [‚ô°] [IMG]  ‚îÇ         ‚îÇ
‚îÇ ‚îÇ –ë—Ä–µ–Ω–¥—ã        ‚îÇ  ‚îÇ            ‚îÇ ‚îÇ            ‚îÇ ‚îÇ            ‚îÇ         ‚îÇ
‚îÇ ‚îÇ ‚ñ° Nike        ‚îÇ  ‚îÇ Under      ‚îÇ ‚îÇ Reebok     ‚îÇ ‚îÇ Champion   ‚îÇ         ‚îÇ
‚îÇ ‚îÇ ‚ñ° Adidas      ‚îÇ  ‚îÇ Armour     ‚îÇ ‚îÇ Classic    ‚îÇ ‚îÇ Pullover   ‚îÇ         ‚îÇ
‚îÇ ‚îÇ ‚ñ° Puma        ‚îÇ  ‚îÇ Rival      ‚îÇ ‚îÇ Hoodie     ‚îÇ ‚îÇ Hoodie     ‚îÇ         ‚îÇ
‚îÇ ‚îÇ               ‚îÇ  ‚îÇ 6 299‚ÇΩ     ‚îÇ ‚îÇ 5 499‚ÇΩ     ‚îÇ ‚îÇ 4 999‚ÇΩ     ‚îÇ         ‚îÇ
‚îÇ ‚îÇ –¶–µ–Ω–∞          ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ ‚îÇ –û—Ç [____]     ‚îÇ                                                        ‚îÇ
‚îÇ ‚îÇ –î–æ [____]     ‚îÇ  [1] 2 3 ... 18 [‚Üí]                                   ‚îÇ
‚îÇ ‚îÇ [–ü—Ä–∏–º–µ–Ω–∏—Ç—å]   ‚îÇ                                                        ‚îÇ
‚îÇ ‚îÇ [–°–±—Ä–æ—Å–∏—Ç—å]    ‚îÇ                                                        ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ProductCard –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è [Source: Story 12.4]

ProductCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω —Å —Å–ª–µ–¥—É—é—â–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º:

```typescript
interface ProductCardProps {
  product: Product
  layout?: 'grid' | 'list' | 'compact'  // default: 'grid'
  mode?: 'b2c' | 'b2b'                   // default: 'b2c'
  userRole?: UserRole                    // default: 'retail'
  showRRP?: boolean                      // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å RRP –¥–ª—è B2B
  showMSRP?: boolean                     // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å MSRP –¥–ª—è B2B
  onAddToCart?: (productId: number) => void
  onToggleFavorite?: (productId: number) => void
  isFavorite?: boolean
  className?: string
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ ProductGrid:**
```tsx
<ProductCard
  product={product}
  layout={viewMode}  // 'grid' –∏–ª–∏ 'list'
  mode={mode}
  userRole={userRole}
  onAddToCart={handleAddToCart}
  onToggleFavorite={handleToggleFavorite}
/>
```

### SidebarFilters –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è [Source: Story 12.5]

SidebarFilters –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤:

```typescript
interface SidebarFiltersProps {
  categories: CategoryNode[]  // –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
  brands: Brand[]
  priceRange: { min: number; max: number }
  sizes: string[]
  colors: Color[]
  selectedFilters: FilterParams
  onApply: (filters: FilterParams) => void
  onReset: () => void
  className?: string
}

interface FilterParams {
  categoryIds: string[]
  brandIds: string[]
  priceMin?: number
  priceMax?: number
  sizes: string[]
  colors: string[]
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
<SidebarFilters
  categories={categoryTree}
  brands={brands}
  priceRange={priceRange}
  sizes={availableSizes}
  colors={availableColors}
  selectedFilters={filters}
  onApply={handleApplyFilters}
  onReset={handleResetFilters}
/>
```

### Breadcrumbs –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è [Source: Story 12.3]

```typescript
interface BreadcrumbsProps {
  items: BreadcrumbItem[]
  separator?: '/' | '>' | '‚Ä∫'
  maxItems?: number
}

interface BreadcrumbItem {
  label: string
  href?: string  // undefined –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
<Breadcrumbs
  items={[
    { label: '–ì–ª–∞–≤–Ω–∞—è', href: '/' },
    { label: '–°–ü–û–†–¢', href: '/catalog/sport' },
    { label: '–§–∏—Ç–Ω–µ—Å –∏ –∞—Ç–ª–µ—Ç–∏–∫–∞', href: '/catalog/sport/fitness' },
    { label: '–¢—è–∂–µ–ª–∞—è –∞—Ç–ª–µ—Ç–∏–∫–∞' }  // —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  ]}
  separator="/"
/>
```

### Pagination –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è [Source: Story 12.3]

```typescript
interface PaginationProps {
  currentPage: number
  totalPages: number
  onPageChange: (page: number) => void
  showFirstLast?: boolean
  maxVisiblePages?: number  // default: 7
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
<Pagination
  currentPage={currentPage}
  totalPages={Math.ceil(totalCount / ITEMS_PER_PAGE)}
  onPageChange={handlePageChange}
  showFirstLast={true}
/>
```

### SortSelect –æ–ø—Ü–∏–∏ [Source: docs/front-end-spec.md, Story 12.5]

–û–ø—Ü–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –¥–ª—è B2B/B2C:

```typescript
const SORT_OPTIONS = [
  { value: 'popularity', label: '–ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏' },
  { value: 'price_asc', label: '–¶–µ–Ω–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é' },
  { value: 'price_desc', label: '–¶–µ–Ω–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é' },
  { value: 'name_asc', label: '–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–ê-–Ø)' },
  { value: 'name_desc', label: '–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–Ø-–ê)' },
  { value: 'brand_asc', label: '–ü–æ –±—Ä–µ–Ω–¥—É (–ê-–Ø)' },
  { value: 'new', label: '–ù–æ–≤–∏–Ω–∫–∏' },
  { value: 'in_stock', label: '–ü–æ –Ω–∞–ª–∏—á–∏—é' }
]
```

### API Endpoints [Source: docs/api-spec.yaml, docs/api-views-documentation.md]

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∫–∞—Ç–∞–ª–æ–≥–∞:**
```
GET /api/v1/catalog/products/
Query params:
  - category: string (slug –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
  - brand: string[] (–º–∞—Å—Å–∏–≤ ID –±—Ä–µ–Ω–¥–æ–≤)
  - price_min: number
  - price_max: number
  - size: string[]
  - color: string[]
  - page: number (default: 1)
  - limit: number (default: 24)
  - sort_by: string (–æ–¥–∏–Ω –∏–∑ SORT_OPTIONS.value)

Response:
{
  "count": 210,
  "next": "url",
  "previous": null,
  "results": [Product]
}
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
```
GET /api/v1/catalog/categories/{slug}/
Response: CategoryData {
  id: number
  name: string
  slug: string
  description: string
  seoDescription: string
  ogImage: string
  parent?: CategoryNode
  children: CategoryNode[]
  breadcrumbs: BreadcrumbItem[]
}
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**
```
GET /api/v1/catalog/categories/{slug}/filters/
Response: {
  brands: Brand[]
  priceRange: { min: number, max: number }
  sizes: string[]
  colors: Color[]
}
```

### Next.js Dynamic Routes [Source: docs/architecture/frontend-architecture.md]

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ catch-all routes:**

```typescript
// frontend/src/app/catalog/[...slug]/page.tsx
// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:
// - /catalog/sport
// - /catalog/sport/fitness
// - /catalog/sport/fitness/weightlifting

interface CatalogPageProps {
  params: { slug: string[] }
  searchParams: { [key: string]: string | string[] | undefined }
}

export default async function CatalogPage({ params, searchParams }: CatalogPageProps) {
  const { slug } = params
  const categorySlug = slug.join('/')  // 'sport/fitness/weightlifting'

  // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  const categoryData = await fetchCategoryData(slug)

  // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏–∑ searchParams
  const filters = parseSearchParamsToFilters(searchParams)
  const products = await fetchProducts({
    categorySlug,
    filters,
    page: Number(searchParams.page) || 1,
    sortBy: searchParams.sortBy as string || 'popularity'
  })

  return (
    // JSX
  )
}

// –î–ª—è SSG –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
export async function generateStaticParams() {
  const mainCategories = await fetchMainCategories()

  return mainCategories.map(category => ({
    slug: category.slug.split('/')
  }))
}
```

### URL State Management [Source: Next.js best practices]

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å URL:**

```typescript
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ URL –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
const handleApplyFilters = (filters: FilterParams) => {
  const searchParams = new URLSearchParams()

  // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã –≤ query string
  if (filters.brandIds.length) {
    filters.brandIds.forEach(id => searchParams.append('brand', id))
  }
  if (filters.priceMin) searchParams.set('priceMin', String(filters.priceMin))
  if (filters.priceMax) searchParams.set('priceMax', String(filters.priceMax))
  if (filters.sizes.length) {
    filters.sizes.forEach(size => searchParams.append('size', size))
  }
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

  // –û–±–Ω–æ–≤–ª—è–µ–º URL
  router.push(`/catalog/${categorySlug}?${searchParams.toString()}`)
}

// –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏–∑ searchParams
const parseSearchParamsToFilters = (searchParams: any): FilterParams => {
  return {
    categoryIds: [],
    brandIds: Array.isArray(searchParams.brand)
      ? searchParams.brand
      : searchParams.brand ? [searchParams.brand] : [],
    priceMin: searchParams.priceMin ? Number(searchParams.priceMin) : undefined,
    priceMax: searchParams.priceMax ? Number(searchParams.priceMax) : undefined,
    sizes: Array.isArray(searchParams.size)
      ? searchParams.size
      : searchParams.size ? [searchParams.size] : [],
    colors: Array.isArray(searchParams.color)
      ? searchParams.color
      : searchParams.color ? [searchParams.color] : []
  }
}
```

### Loading States [Source: Next.js docs, UX best practices]

**Skeleton placeholders –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫:**

```tsx
// ProductCardSkeleton.tsx
export function ProductCardSkeleton() {
  return (
    <div className="bg-white rounded-[12px] p-4 animate-pulse">
      <div className="aspect-square bg-neutral-200 rounded-[8px] mb-3" />
      <div className="h-4 bg-neutral-200 rounded w-1/2 mb-2" />
      <div className="h-5 bg-neutral-200 rounded w-3/4 mb-3" />
      <div className="h-6 bg-neutral-200 rounded w-1/3" />
    </div>
  )
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ ProductGrid
{loading ? (
  <>
    {Array.from({ length: 12 }).map((_, i) => (
      <ProductCardSkeleton key={i} />
    ))}
  </>
) : (
  <>
    {products.map(product => (
      <ProductCard key={product.id} product={product} layout={viewMode} />
    ))}
  </>
)}
```

### Mobile UX Considerations

**Touch targets:**
- –ú–∏–Ω–∏–º—É–º 44x44px –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π padding –¥–ª—è filters –Ω–∞ mobile (16px –≤–º–µ—Å—Ç–æ 12px)

**Modal —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞ mobile:**
- Fullscreen modal —Å slide-up animation
- Fixed header —Å –∫–Ω–æ–ø–∫–æ–π "–ó–∞–∫—Ä—ã—Ç—å" –∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–§–∏–ª—å—Ç—Ä—ã"
- Fixed footer —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å" –∏ "–°–±—Ä–æ—Å–∏—Ç—å"
- Scrollable body —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- backdrop-blur-sm –¥–ª—è backdrop

**Grid –Ω–∞ mobile:**
- 2 –∫–æ–ª–æ–Ω–∫–∏ –≤–º–µ—Å—Ç–æ 4
- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π gap: 12px –≤–º–µ—Å—Ç–æ 16px
- ProductCard –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –º–µ–Ω—å—à—É—é —à–∏—Ä–∏–Ω—É

### Performance Considerations

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- Server-side rendering –¥–ª—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- Client-side navigation –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (CSR)
- Debounce –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤: 300ms
- Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Next.js Image
- Pagination –≤–º–µ—Å—Ç–æ infinite scroll (–ª—É—á—à–µ –¥–ª—è SEO)

**Code splitting:**
- MobileFiltersModal –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ mobile
- SidebarFilters –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 1 —á–∞—Å (stale-while-revalidate)
- –¢–æ–≤–∞—Ä—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 5 –º–∏–Ω—É—Ç
- –§–∏–ª—å—Ç—Ä—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 15 –º–∏–Ω—É—Ç

### SEO Considerations [Source: Next.js SEO best practices]

**Structured Data (JSON-LD):**

```typescript
const structuredData = {
  "@context": "https://schema.org",
  "@type": "ItemList",
  "itemListElement": products.map((product, index) => ({
    "@type": "ListItem",
    "position": index + 1,
    "item": {
      "@type": "Product",
      "@id": `${siteUrl}/products/${product.slug}`,
      "name": product.name,
      "image": product.image,
      "description": product.shortDescription,
      "brand": {
        "@type": "Brand",
        "name": product.brand
      },
      "offers": {
        "@type": "Offer",
        "url": `${siteUrl}/products/${product.slug}`,
        "priceCurrency": "RUB",
        "price": product.price,
        "availability": product.inStock
          ? "https://schema.org/InStock"
          : "https://schema.org/OutOfStock"
      }
    }
  }))
}

// –î–æ–±–∞–≤–∏—Ç—å –≤ head:
<script
  type="application/ld+json"
  dangerouslySetInnerHTML={{ __html: JSON.stringify(structuredData) }}
/>
```

**Canonical URL:**
```typescript
alternates: {
  canonical: `/catalog/${slug.join('/')}`
}
```

**Meta robots:**
```typescript
robots: {
  index: true,
  follow: true,
  'max-image-preview': 'large',
  'max-snippet': -1,
  'max-video-preview': -1
}
```

### Accessibility Requirements [Source: WCAG 2.1 AA]

**Keyboard Navigation:**
- Tab –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- Enter –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —á–µ–∫–±–æ–∫—Å–æ–≤, –∫–Ω–æ–ø–æ–∫
- Space –¥–ª—è toggle —á–µ–∫–±–æ–∫—Å–æ–≤
- Escape –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- Arrow keys –¥–ª—è navigation –≤ Select dropdown

**ARIA –∞—Ç—Ä–∏–±—É—Ç—ã:**
- `aria-label` –¥–ª—è –∏–∫–æ–Ω–æ—á–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ (grid/list toggle, favorite)
- `aria-current="page"` –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã pagination
- `aria-expanded` –¥–ª—è collapsible filter groups
- `role="search"` –¥–ª—è search field
- `role="navigation"` –¥–ª—è breadcrumbs –∏ pagination

**Focus Management:**
- –í–∏–¥–∏–º—ã–µ focus rings: `ring-2 ring-primary ring-offset-2`
- Focus trap –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö
- Restore focus –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–æ–≤
- Skip to content link –¥–ª—è screen readers

**Semantic HTML:**
```tsx
<main aria-label="–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤">
  <nav aria-label="–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏">
    <Breadcrumbs ... />
  </nav>

  <h1>{categoryName}</h1>

  <aside aria-label="–§–∏–ª—å—Ç—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤">
    <SidebarFilters ... />
  </aside>

  <section aria-label="–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤">
    <ProductGrid ... />
  </section>

  <nav aria-label="–ü–∞–≥–∏–Ω–∞—Ü–∏—è">
    <Pagination ... />
  </nav>
</main>
```

### Security Considerations

**XSS Protection:**
- React –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ API —á–µ—Ä–µ–∑ JSX
- **–í–ê–ñ–ù–û**: –ò–∑–±–µ–≥–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `dangerouslySetInnerHTML` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –í—Å–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –æ–ø–∏—Å–∞–Ω–∏—è) —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**URL Parameter Validation:**
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ `searchParams` –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ API
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (price_min, price_max, page)
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (category slug, brand IDs)
- –ü—Ä–∏–º–µ—Ä –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
  ```typescript
  const priceMin = searchParams.priceMin
    ? Math.max(0, Number(searchParams.priceMin))
    : undefined
  const page = searchParams.page
    ? Math.max(1, Math.min(1000, Number(searchParams.page)))
    : 1
  ```

**Rate Limiting:**
- Backend –∏–º–µ–µ—Ç rate limiting –¥–ª—è `/api/v1/catalog/*` endpoints (–æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è Django Throttling)
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–∫—Ä–∞–ø–∏–Ω–≥–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ API

**CSRF Protection:**
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è GET –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–∞—Ç–∞–ª–æ–≥–∞ (read-only –æ–ø–µ—Ä–∞—Ü–∏–∏)
- POST –∑–∞–ø—Ä–æ—Å—ã (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É) –∑–∞—â–∏—â–µ–Ω—ã Django CSRF middleware

**Client-Side Data Exposure:**
- –ü—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–≤–∞—Ä—ã, —Ü–µ–Ω—ã) - —Ä–∏—Å–∫ –º–∏–Ω–∏–º–∞–ª–µ–Ω
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å sensitive –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ URL –∏–ª–∏ localStorage
- B2B –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### Performance Considerations

**Image Optimization:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Next.js `Image` component –¥–ª—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
- Lazy loading –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤–Ω–µ viewport
- Responsive images —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ –¥–ª—è desktop/tablet/mobile
- WebP —Ñ–æ—Ä–º–∞—Ç —Å fallback –Ω–∞ JPEG

**Code Splitting:**
- `MobileFiltersModal` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `next/dynamic`:
  ```typescript
  const MobileFiltersModal = dynamic(() => import('./MobileFiltersModal'), {
    ssr: false,
    loading: () => <LoadingSpinner />
  })
  ```
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–∞ mobile —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

**Debouncing:**
- 300ms debounce –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ (Task 9.4)
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

**Caching Strategy:**
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: 1 —á–∞—Å (stale-while-revalidate)
- –¢–æ–≤–∞—Ä—ã: 5 –º–∏–Ω—É—Ç
- –§–∏–ª—å—Ç—Ä—ã: 15 –º–∏–Ω—É—Ç
- React Query / SWR –¥–ª—è client-side –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**Bundle Size Optimization:**
- Tree-shaking –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π import –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö dependencies
- –ê–Ω–∞–ª–∏–∑ bundle size —á–µ—Ä–µ–∑ `@next/bundle-analyzer`

**Server-Side Rendering:**
- SSR –¥–ª—è –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞ (SEO)
- Client-side navigation –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React Server Components –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

**Core Web Vitals Targets:**
- LCP (Largest Contentful Paint): < 2.5s
- FID (First Input Delay): < 100ms
- CLS (Cumulative Layout Shift): < 0.1

### Technical Constraints

- **TypeScript**: –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö props –∏ state
- **Next.js 15.4.6**: App Router, Server Components –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- **React 19.1.0**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ö—É–∫–∏ –∏ features
- **Vitest 2.1.5**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å React Testing Library
- **MSW 2.12.2**: API mocking –¥–ª—è —Ç–µ—Å—Ç–æ–≤

### Browser Support

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### Storybook Integration (Optional Enhancement)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å Storybook stories –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫–∞—Ç–∞–ª–æ–≥–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è Storybook:**

- `CategoryHeader.stories.tsx` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å expandable –æ–ø–∏—Å–∞–Ω–∏–µ–º
- `CatalogToolbar.stories.tsx` - toolbar —Å grid/list toggle –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
- `ProductGrid.stories.tsx` - grid –∏ list layouts —Å loading/empty states
- `ActiveFiltersChips.stories.tsx` - chips —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `MobileFiltersModal.stories.tsx` - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞ mobile

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Storybook:**

- –í–∏–∑—É–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö states –∏ props
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è responsive behavior
- –£–ø—Ä–æ—â–µ–Ω–∏–µ code review

**–ü—Ä–∏–º–µ—Ä Storybook story:**

```typescript
// CategoryHeader.stories.tsx
import type { Meta, StoryObj } from '@storybook/react'
import { CategoryHeader } from './CategoryHeader'

const meta: Meta<typeof CategoryHeader> = {
  title: 'Catalog/CategoryHeader',
  component: CategoryHeader,
  parameters: {
    layout: 'padded',
  },
}

export default meta
type Story = StoryObj<typeof CategoryHeader>

export const Default: Story = {
  args: {
    title: '–ú—É–∂—Å–∫–∏–µ —Ö—É–¥–∏ –∏ —Ç–æ–ª—Å—Ç–æ–≤–∫–∏',
    description: '–®–∏—Ä–æ–∫–∏–π –≤—ã–±–æ—Ä –º—É–∂—Å–∫–∏—Ö —Ö—É–¥–∏ –∏ —Ç–æ–ª—Å—Ç–æ–≤–æ–∫ –¥–ª—è —Å–ø–æ—Ä—Ç–∞ –∏ –æ—Ç–¥—ã—Ö–∞...',
  },
}

export const WithLongDescription: Story = {
  args: {
    title: '–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –æ–¥–µ–∂–¥–∞',
    description: '–û—á–µ–Ω—å –¥–ª–∏–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ —Ç—Ä–µ–±—É–µ—Ç expandable —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª...',
  },
}

export const WithoutDescription: Story = {
  args: {
    title: '–ù–æ–≤–∏–Ω–∫–∏',
  },
}
```

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω):**

```bash
npx storybook@latest init
npm install --save-dev @storybook/addon-a11y  # –¥–ª—è accessibility —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## Testing

**Test file locations:**
- `frontend/src/app/catalog/[...slug]/__tests__/page.test.tsx`
- `frontend/src/components/catalog/__tests__/CategoryHeader.test.tsx`
- `frontend/src/components/catalog/__tests__/CatalogToolbar.test.tsx`
- `frontend/src/components/catalog/__tests__/ProductGrid.test.tsx`
- `frontend/src/components/catalog/__tests__/ActiveFiltersChips.test.tsx`
- `frontend/src/components/catalog/__tests__/MobileFiltersModal.test.tsx`

**Testing frameworks** [Source: CLAUDE.md]:
- Vitest 2.1.5 –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤
- @testing-library/react 16.3.0 –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- MSW 2.12.2 –¥–ª—è API mocking

**Test standards:**
- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å —Ä–∞–∑–Ω—ã–º–∏ props
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–∫–ª–∏–∫–∏, keyboard, filters)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å accessibility –∞—Ç—Ä–∏–±—É—Ç—ã
- Integration —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ flow: —Ñ–∏–ª—å—Ç—Ä—ã ‚Üí —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ ‚Üí pagination

**Coverage requirements:**
- –ú–∏–Ω–∏–º—É–º 80% –ø–æ–∫—Ä—ã—Ç–∏–µ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**Test commands:**
```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
npx vitest run src/app/catalog/__tests__/page.test.tsx
```

**–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:**

```typescript
// page.test.tsx
import { render, screen } from '@testing-library/react'
import CatalogPage from '../page'

describe('CatalogPage', () => {
  it('renders catalog page with breadcrumbs', async () => {
    const page = await CatalogPage({
      params: { slug: ['sport', 'fitness'] },
      searchParams: {}
    })

    render(page)

    expect(screen.getByRole('navigation', { name: /—Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏/i })).toBeInTheDocument()
    expect(screen.getByRole('heading', { level: 1 })).toBeInTheDocument()
  })

  it('renders products grid', async () => {
    const page = await CatalogPage({
      params: { slug: ['sport'] },
      searchParams: {}
    })

    render(page)

    const productCards = screen.getAllByRole('article')
    expect(productCards).toHaveLength(12) // –∏–ª–∏ —Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
  })
})

// CatalogToolbar.test.tsx
import { render, screen, fireEvent } from '@testing-library/react'
import { CatalogToolbar } from '../CatalogToolbar'

describe('CatalogToolbar', () => {
  const mockOnViewModeChange = vi.fn()
  const mockOnSortChange = vi.fn()

  it('renders product count', () => {
    render(
      <CatalogToolbar
        totalCount={210}
        displayedCount={12}
        viewMode="grid"
        onViewModeChange={mockOnViewModeChange}
        sortBy="popularity"
        onSortChange={mockOnSortChange}
      />
    )

    expect(screen.getByText(/–ø–æ–∫–∞–∑–∞–Ω–æ 12 –∏–∑ 210 —Ç–æ–≤–∞—Ä–æ–≤/i)).toBeInTheDocument()
  })

  it('switches view mode on button click', () => {
    render(
      <CatalogToolbar
        totalCount={210}
        displayedCount={12}
        viewMode="grid"
        onViewModeChange={mockOnViewModeChange}
        sortBy="popularity"
        onSortChange={mockOnSortChange}
      />
    )

    const listButton = screen.getByRole('button', { name: /—Å–ø–∏—Å–æ–∫/i })
    fireEvent.click(listButton)

    expect(mockOnViewModeChange).toHaveBeenCalledWith('list')
  })
})

// ProductGrid.test.tsx
import { render, screen } from '@testing-library/react'
import { ProductGrid } from '../ProductGrid'

describe('ProductGrid', () => {
  const mockProducts = [
    { id: 1, name: 'Product 1', price: 1000, image: '/img1.jpg' },
    { id: 2, name: 'Product 2', price: 2000, image: '/img2.jpg' }
  ]

  it('renders products in grid layout', () => {
    render(
      <ProductGrid
        products={mockProducts}
        viewMode="grid"
        onAddToCart={vi.fn()}
        onToggleFavorite={vi.fn()}
      />
    )

    const grid = screen.getByRole('list')
    expect(grid).toHaveClass('grid', 'grid-cols-4')

    const productCards = screen.getAllByRole('article')
    expect(productCards).toHaveLength(2)
  })

  it('renders products in list layout', () => {
    render(
      <ProductGrid
        products={mockProducts}
        viewMode="list"
        onAddToCart={vi.fn()}
        onToggleFavorite={vi.fn()}
      />
    )

    const list = screen.getByRole('list')
    expect(list).toHaveClass('flex', 'flex-col')
  })

  it('renders loading state', () => {
    render(
      <ProductGrid
        products={[]}
        viewMode="grid"
        loading={true}
        onAddToCart={vi.fn()}
        onToggleFavorite={vi.fn()}
      />
    )

    const skeletons = screen.getAllByTestId('product-skeleton')
    expect(skeletons).toHaveLength(12) // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ skeleton placeholders
  })

  it('renders empty state', () => {
    render(
      <ProductGrid
        products={[]}
        viewMode="grid"
        loading={false}
        onAddToCart={vi.fn()}
        onToggleFavorite={vi.fn()}
      />
    )

    expect(screen.getByText(/—Ç–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã/i)).toBeInTheDocument()
  })
})
```

## Dev Agent Record

### Agent Model Used

_To be filled by Dev Agent during implementation_

### Debug Log References

_To be filled by Dev Agent_

### Completion Notes

_To be filled by Dev Agent:_
- Notes about the completion of tasks
- Any issues encountered during implementation
- Deviations from the original plan
- Performance considerations discovered
- Recommendations for future improvements

### File List

_To be filled by Dev Agent with all files created, modified, or affected during implementation:_
- Created files
- Modified files
- Test files
- Configuration changes

## QA Results

_To be filled by QA Agent after implementation and testing_

**Functional Testing:**
- [ ] All Acceptance Criteria verified
- [ ] Cross-browser testing completed
- [ ] Mobile/tablet/desktop responsiveness verified

**Performance Testing:**
- [ ] Lighthouse audit scores meet requirements
- [ ] Core Web Vitals in green zone
- [ ] Bundle size analysis completed

**Accessibility Testing:**
- [ ] WCAG 2.1 AA compliance verified
- [ ] Keyboard navigation tested
- [ ] Screen reader compatibility verified

**Issues Found:**
_List of any issues discovered during QA_

**Sign-off:** _QA Agent name and date_

## Change Log

| Date       | Version | Description                              | Author       |
|------------|---------|------------------------------------------|--------------|
| 2025-11-21 | 1.0     | –°–æ–∑–¥–∞–Ω–∏–µ story –Ω–∞ –æ—Å–Ω–æ–≤–µ Epic 12.8       | Bob (SM)     |
| 2025-11-21 | 1.1     | –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–µ–∫—Ü–∏–∏ Dev Agent Record –∏ QA Results, –æ–±–Ω–æ–≤–ª–µ–Ω—ã Prerequisites | Sarah (PO)   |
| 2025-11-21 | 1.2     | –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è: Security Considerations, Performance Considerations, —É—Ç–æ—á–Ω–µ–Ω Task 9.3 (localStorage/SSR), –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω Task 12.7 (accessibility), –¥–æ–±–∞–≤–ª–µ–Ω Task 13.6 (Lighthouse CI), —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è Storybook | Sarah (PO)   |
