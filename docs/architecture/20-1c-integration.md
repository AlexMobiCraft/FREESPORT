# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–° –¥–ª—è FREESPORT Platform

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#1-–æ–±–∑–æ—Ä-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã](#2-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã)
3. [–§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã](#3-—Ñ–æ—Ä–º–∞—Ç—ã-–¥–∞–Ω–Ω—ã—Ö-–∏-–ø—Ä–æ—Ç–æ–∫–æ–ª—ã) *(–±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω–µ–Ω –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ 1–°)*
4. [–°—Ö–µ–º—ã –º–∞–ø–ø–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö](#4-—Å—Ö–µ–º—ã-–º–∞–ø–ø–∏–Ω–≥–∞-–¥–∞–Ω–Ω—ã—Ö) *(–±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω–µ–Ω –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ 1–°)*
5. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#5-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
6. [–ü—Ä–æ—Ü–µ—Å—Å—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏](#6-–ø—Ä–æ—Ü–µ—Å—Å—ã-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
7. [–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π](#7-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è-–ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π)
8. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](#8-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–∏-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
9. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#9-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
10. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#10-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ-–∑–∞–¥–∞–Ω–∏–µ-–¥–ª—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

---

## 1. –û–±–∑–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 1.1 –ë–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**FREESPORT Platform** –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å **1–°:–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–µ–π** –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è:

- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤:** –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞, —Ü–µ–Ω, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å—Ç–∞—Ç–∫–∞–º–∏:** –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞–ª–∏—á–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤  
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π:** –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑—ã
- **–û–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–æ–≤:** –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–∞–∑–æ–≤ –∏–∑ –≤–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ 1–°
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤ –∏–∑ 1–°

### 1.2 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å—Ö–µ–º–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```mermaid
graph TB
    subgraph "1–°:–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–µ–π"
        A[–¢–æ–≤–∞—Ä—ã –∏ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞] --> B[–≠–∫—Å–ø–æ—Ä—Ç CommerceML]
        C[–û—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤] --> B
        D[–¶–µ–Ω—ã –ø–æ —Ç–∏–ø–∞–º –∫–ª–∏–µ–Ω—Ç–æ–≤] --> B
        E[–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤] --> F[–í—ã–≥—Ä—É–∑–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤]
        G[–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤] --> H[HTTP API 1–°]
    end

    subgraph "FREESPORT Platform"
        B --> I[Management Commands]
        F --> I
        H --> J[Webhook Handlers]
        I --> K[Data Parsers]
        K --> L[Data Validators]
        L --> M[Django Models]
        M --> N[REST API]
        O[Order Export] --> H
        P[Customer Export] --> H
    end

    subgraph "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
        Q[File Import Service] --> I
        R[Customer Sync Service] --> I
        S[Background Tasks] --> I
        T[Error Logging] --> I
        U[Progress Monitoring] --> I
    end
```

### 1.3 –¢—Ä–µ—Ö—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

**–ò–º–ø–æ—Ä—Ç –≤ FREESPORT (1–° ‚Üí Platform):**
- –¢–æ–≤–∞—Ä—ã –∏ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞
- –û—Å—Ç–∞—Ç–∫–∏ –∏ —Ü–µ–Ω—ã
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤

**–≠–∫—Å–ø–æ—Ä—Ç –∏–∑ FREESPORT (Platform ‚Üí 1–°):**
- –ó–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ù–æ–≤—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

**–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤:**
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ 1–°
- –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–æ–≤—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π —Å —Å–∞–π—Ç–∞ –≤ 1–°
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 2.1 –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Idempotency:** –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ä—É—à–∞—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å
2. **Fault Tolerance:** –°–∏—Å—Ç–µ–º–∞ —É—Å—Ç–æ–π—á–∏–≤–∞ –∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å–±–æ—è–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
3. **Data Consistency:** –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–¥ —Å–∫–æ—Ä–æ—Å—Ç—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
4. **Incremental Sync:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
5. **Audit Trail:** –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞
6. **Customer Identity Resolution:** –ù–∞–¥–µ–∂–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏

### 2.2 –í—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** *–ë—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç 1–° –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞*
**–ü—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–µ–¥–∞—á–∏:** *–ë—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç 1–° –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞*  
**–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:** Django Management Commands + Celery
**–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:** PostgreSQL + Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** Structured logging + Django Admin interface

---

## 3. –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

> **–ü–†–ò–ú–ï–ß–ê–ù–ò–ï:** –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –±—É–¥–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ 1–° –Ω–∞ –∑–∞–ø—Ä–æ—Å –≤ `docs/architecture/request-to-1c-developer.md`

### 3.1 –û–∂–∏–¥–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

**–í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**
- CommerceML 2.0 (XML —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è 1–°)
- JSON —á–µ—Ä–µ–∑ HTTP API
- CSV —Ñ–∞–π–ª—ã
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π XML —Ñ–æ—Ä–º–∞—Ç

### 3.2 –ú–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

**–í–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è:**
- HTTP/HTTPS API endpoints
- FTP/SFTP —Ñ–∞–π–ª–æ–≤—ã–π –æ–±–º–µ–Ω  
- –í–µ–±-—Å–µ—Ä–≤–∏—Å—ã SOAP
- –§–∞–π–ª—ã –≤ –æ–±—â—É—é —Å–µ—Ç–µ–≤—É—é –ø–∞–ø–∫—É

---

## 4. –°—Ö–µ–º—ã –º–∞–ø–ø–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö

> **–ü–†–ò–ú–ï–ß–ê–ù–ò–ï:** –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã –º–∞–ø–ø–∏–Ω–≥–∞ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç 1–° –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞

### 4.1 –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –º–∞–ø–ø–∏–Ω–≥–∞

**–¢–æ–≤–∞—Ä—ã:**
- `onec_id` –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª—é—á —Å–≤—è–∑–∏
- –ú–∞–ø–ø–∏–Ω–≥ —Ü–µ–Ω–æ–≤—ã—Ö –≥—Ä—É–ø–ø 1–° ‚Üí —Ä–æ–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –≤ JSONB

**–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏:**
- `email` + `onec_id` –∫–∞–∫ —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á  
- –ú–∞–ø–ø–∏–Ω–≥ —Ç–∏–ø–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤ 1–° ‚Üí —Ä–æ–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–∑.–ª–∏—Ü –∏ —é—Ä.–ª–∏—Ü

---

## 5. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 5.1 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```mermaid
graph TD
    A[Management Commands] --> B[Import Service]
    B --> C[Data Parser]
    B --> D[Data Validator]
    B --> E[Data Processor]
    
    C --> F[Catalog Parser]
    C --> G[Offers Parser] 
    C --> H[Customers Parser]
    
    D --> I[Field Validation]
    D --> J[Business Rules]
    D --> K[Data Integrity]
    
    E --> L[Category Creator]
    E --> M[Brand Creator]
    E --> N[Product Creator/Updater]
    E --> O[Customer Creator/Updater]
    
    L --> P[Django Models]
    M --> P
    N --> P
    O --> P
    
    Q[Progress Monitor] --> A
    R[Error Handler] --> A
    S[Audit Logger] --> A
    T[Customer Resolver] --> O
```

### 5.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Management Commands

```python
# apps/products/management/commands/
class ImportFrom1CCommand(BaseCommand):
    """–ë–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ 1–°"""
    
    def add_arguments(self, parser):
        parser.add_argument('--file', required=True, help='–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–∞–Ω–Ω—ã—Ö')
        parser.add_argument('--type', choices=['catalog', 'offers', 'customers'], required=True)
        parser.add_argument('--dry-run', action='store_true')
        parser.add_argument('--chunk-size', type=int, default=100)

class ImportCustomersCommand(ImportFrom1CCommand):
    """–ò–º–ø–æ—Ä—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ 1–°"""
    help = "–ò–º–ø–æ—Ä—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ 1–° (customers)"

class SyncCustomersCommand(BaseCommand):
    """–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤"""
    help = "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –∏ 1–°"

class ExportNewCustomersCommand(BaseCommand):
    """–≠–∫—Å–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ 1–°"""
    help = "–≠–∫—Å–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ 1–°"
```

### 5.3 –ú–æ–¥–µ–ª–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏

```python
# apps/users/models.py
class User(AbstractUser):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
    
    # –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–°
    onec_id = models.CharField('ID –≤ 1–°', max_length=100, blank=True, null=True, unique=True)
    sync_status = models.CharField(
        '–°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏',
        max_length=20,
        choices=[
            ('pending', '–û–∂–∏–¥–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏'),
            ('synced', '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω'),
            ('error', '–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏'),
            ('conflict', '–ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö'),
        ],
        default='pending'
    )
    sync_error_message = models.TextField('–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏', blank=True)
    last_sync_at = models.DateTimeField('–ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è', null=True, blank=True)
    
    # –§–ª–∞–≥–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    created_in_1c = models.BooleanField('–°–æ–∑–¥–∞–Ω –≤ 1–°', default=False)
    needs_1c_export = models.BooleanField('–¢—Ä–µ–±—É–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ 1–°', default=False)

class CustomerSyncLog(models.Model):
    """–õ–æ–≥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤"""
    
    OPERATION_TYPES = [
        ('import_from_1c', '–ò–º–ø–æ—Ä—Ç –∏–∑ 1–°'),
        ('export_to_1c', '–≠–∫—Å–ø–æ—Ä—Ç –≤ 1–°'),
        ('sync_changes', '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π'),
    ]
    
    operation_type = models.CharField('–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏', max_length=20, choices=OPERATION_TYPES)
    customer = models.ForeignKey(User, on_delete=models.CASCADE, null=True, blank=True)
    customer_email = models.EmailField('Email –∫–ª–∏–µ–Ω—Ç–∞', blank=True)
    
    status = models.CharField('–°—Ç–∞—Ç—É—Å', max_length=20, choices=[
        ('success', '–£—Å–ø–µ—à–Ω–æ'),
        ('error', '–û—à–∏–±–∫–∞'),
        ('skipped', '–ü—Ä–æ–ø—É—â–µ–Ω–æ'),
    ])
    
    details = models.JSONField('–î–µ—Ç–∞–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏', default=dict)
    error_message = models.TextField('–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ', blank=True)
    
    created_at = models.DateTimeField('–î–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏', auto_now_add=True)
    
    class Meta:
        verbose_name = '–õ–æ–≥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤'
        verbose_name_plural = '–õ–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤'
        db_table = 'customer_sync_logs'
        ordering = ['-created_at']
```

---

## 6. –ü—Ä–æ—Ü–µ—Å—Å—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 6.1 –ê–ª–≥–æ—Ä–∏—Ç–º –∏–º–ø–æ—Ä—Ç–∞ –∫–∞—Ç–∞–ª–æ–≥–∞

```python
def import_catalog_workflow():
    """Workflow –∏–º–ø–æ—Ä—Ç–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤"""
    
    # –®–∞–≥ 1: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–∞
    validate_file_structure()
    
    # –®–∞–≥ 2: –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
    categories = parse_categories()
    
    # –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å —É—á–µ—Ç–æ–º –∏–µ—Ä–∞—Ä—Ö–∏–∏
    process_categories_with_hierarchy(categories)
    
    # –®–∞–≥ 4: –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤
    products = parse_products()
    
    # –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–æ–≤
    brands = extract_unique_brands(products)
    process_brands(brands)
    
    # –®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
    for product_chunk in chunk_products(products):
        process_products_chunk(product_chunk)
    
    # –®–∞–≥ 7: –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
    deactivate_missing_products()
    
    # –®–∞–≥ 8: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
    generate_import_report()
```

### 6.2 –ê–ª–≥–æ—Ä–∏—Ç–º –∏–º–ø–æ—Ä—Ç–∞ —Ü–µ–Ω –∏ –æ—Å—Ç–∞—Ç–∫–æ–≤

```python
def import_offers_workflow():
    """Workflow –∏–º–ø–æ—Ä—Ç–∞ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π"""
    
    # –®–∞–≥ 1: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–∞ offers
    validate_offers_file()
    
    # –®–∞–≥ 2: –ü–∞—Ä—Å–∏–Ω–≥ —Ç–∏–ø–æ–≤ —Ü–µ–Ω
    price_types = parse_price_types()
    validate_price_types_mapping(price_types)
    
    # –®–∞–≥ 3: –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
    offers = parse_offers()
    
    # –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω –∏ –æ—Å—Ç–∞—Ç–∫–æ–≤
    for offer_chunk in chunk_offers(offers):
        update_products_prices_and_stock(offer_chunk)
    
    # –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
    validate_data_integrity()
    
    # –®–∞–≥ 6: –ö—ç—à –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è
    invalidate_product_cache()
```

---

## 7. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π

### 7.1 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤

```mermaid
sequenceDiagram
    participant Site as FREESPORT Platform
    participant Sync as Sync Service
    participant 1C as 1–°:–£–¢
    
    Note over Site,1C: –ò–º–ø–æ—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
    1C->>Sync: –í—ã–≥—Ä—É–∑–∫–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
    Sync->>Site: –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    
    Note over Site,1C: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
    Site->>Sync: –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
    Sync->>1C: –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –≤ 1–°
    1C-->>Sync: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ + onec_id
    Sync->>Site: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ onec_id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    
    Note over Site,1C: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞
    Site->>Sync: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑–º–µ–Ω–∏–ª –ø—Ä–æ—Ñ–∏–ª—å
    Sync->>1C: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞
    
    1C->>Sync: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ 1–°
    Sync->>Site: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### 7.2 –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

```python
class CustomerConflictResolver:
    """–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤"""
    
    RESOLUTION_STRATEGIES = {
        'email_conflict': 'merge_by_email',
        'data_mismatch': 'latest_wins',
        'role_conflict': 'manual_review',
        'duplicate_customer': 'merge_customers',
    }
    
    def resolve_customer_conflict(self, platform_customer, onec_customer):
        """–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞"""
        
        conflicts = self.detect_conflicts(platform_customer, onec_customer)
        
        for conflict_type, conflict_data in conflicts.items():
            strategy = self.RESOLUTION_STRATEGIES.get(conflict_type)
            
            if strategy == 'merge_by_email':
                return self.merge_customers_by_email(platform_customer, onec_customer)
            elif strategy == 'latest_wins':
                return self.apply_latest_changes(platform_customer, onec_customer)
            elif strategy == 'manual_review':
                self.create_manual_review_task(conflict_data)
                return None
```

### 7.3 Workflow —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤

```python
def sync_customers_workflow():
    """–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤"""
    
    # –®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ 1–°
    new_1c_customers = import_customers_from_1c()
    for customer_data in new_1c_customers:
        create_or_update_platform_customer(customer_data)
    
    # –®–∞–≥ 2: –≠–∫—Å–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –≤ 1–°
    new_platform_customers = get_customers_needing_export()
    for customer in new_platform_customers:
        export_customer_to_1c(customer)
    
    # –®–∞–≥ 3: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
    updated_customers = get_updated_customers_since_last_sync()
    for customer in updated_customers:
        sync_customer_changes(customer)
    
    # –®–∞–≥ 4: –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
    conflicts = detect_customer_conflicts()
    resolve_customer_conflicts(conflicts)
    
    # –®–∞–≥ 5: –û—Ç—á–µ—Ç –æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
    generate_customer_sync_report()

def create_or_update_platform_customer(customer_data_from_1c):
    """–°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ"""
    
    # –ü–æ–∏—Å–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
    existing_customer = find_customer_by_identifiers(
        email=customer_data_from_1c.get('email'),
        onec_id=customer_data_from_1c.get('onec_id'),
        phone=customer_data_from_1c.get('phone')
    )
    
    if existing_customer:
        # –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
        update_customer_from_1c_data(existing_customer, customer_data_from_1c)
    else:
        # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
        create_customer_from_1c_data(customer_data_from_1c)

def export_customer_to_1c(platform_customer):
    """–≠–∫—Å–ø–æ—Ä—Ç –∫–ª–∏–µ–Ω—Ç–∞ —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ 1–°"""
    
    # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
    export_data = prepare_customer_export_data(platform_customer)
    
    # –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ 1–°
    result = send_customer_to_1c(export_data)
    
    if result.success:
        # –û–±–Ω–æ–≤–ª—è–µ–º onec_id –∏ —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
        platform_customer.onec_id = result.onec_id
        platform_customer.sync_status = 'synced'
        platform_customer.needs_1c_export = False
        platform_customer.last_sync_at = timezone.now()
        platform_customer.save()
        
        # –õ–æ–≥–∏—Ä—É–µ–º —É—Å–ø–µ—Ö
        CustomerSyncLog.objects.create(
            operation_type='export_to_1c',
            customer=platform_customer,
            status='success',
            details={'onec_id': result.onec_id}
        )
    else:
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
        handle_customer_export_error(platform_customer, result.error)
```

### 7.4 –°–µ—Ä–≤–∏—Å—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤

```python
class CustomerIdentityResolver:
    """–°–µ—Ä–≤–∏—Å –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏"""
    
    def find_customer_by_identifiers(self, **identifiers):
        """–ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º"""
        
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–∏—Å–∫–∞: onec_id > email > phone + name
        if identifiers.get('onec_id'):
            customer = User.objects.filter(onec_id=identifiers['onec_id']).first()
            if customer:
                return customer
        
        if identifiers.get('email'):
            customer = User.objects.filter(email=identifiers['email']).first()
            if customer:
                return customer
        
        # –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É + –§–ò–û (–¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏)
        if identifiers.get('phone') and identifiers.get('full_name'):
            # –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º
            return self.fuzzy_search_customer(identifiers)
        
        return None
    
    def fuzzy_search_customer(self, identifiers):
        """–ù–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ —á–∞—Å—Ç–∏—á–Ω—ã–º –¥–∞–Ω–Ω—ã–º"""
        # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –Ω–µ—á–µ—Ç–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
        pass

class CustomerDataMapper:
    """–ú–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ 1–° –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"""
    
    def map_1c_to_platform(self, customer_data_1c):
        """–ú–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞ –∏–∑ 1–° –≤ —Ñ–æ—Ä–º–∞—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"""
        return {
            'email': customer_data_1c.get('email'),
            'first_name': customer_data_1c.get('first_name'),
            'last_name': customer_data_1c.get('last_name'),
            'phone': customer_data_1c.get('phone'),
            'company_name': customer_data_1c.get('company_name'),
            'tax_id': customer_data_1c.get('inn'),
            'role': self.map_1c_customer_type_to_platform_role(
                customer_data_1c.get('customer_type')
            ),
            'is_verified': customer_data_1c.get('is_verified', False),
            'onec_id': customer_data_1c.get('id'),
            'created_in_1c': True,
            'sync_status': 'synced',
        }
    
    def map_platform_to_1c(self, platform_customer):
        """–ú–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞ –∏–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ —Ñ–æ—Ä–º–∞—Ç 1–°"""
        customer_type = 'individual' if not platform_customer.company_name else 'legal_entity'
        
        base_data = {
            'email': platform_customer.email,
            'phone': platform_customer.phone,
            'customer_type': customer_type,
            'platform_id': platform_customer.id,
        }
        
        if customer_type == 'individual':
            base_data.update({
                'first_name': platform_customer.first_name,
                'last_name': platform_customer.last_name,
            })
        else:
            base_data.update({
                'company_name': platform_customer.company_name,
                'tax_id': platform_customer.tax_id,
                'contact_person': f"{platform_customer.first_name} {platform_customer.last_name}",
            })
        
        return base_data
```

---

## 8. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 8.1 –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

```python
class IntegrationErrorHandler:
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"""
    
    ERROR_STRATEGIES = {
        'validation_error': 'skip_and_log',
        'database_error': 'retry_with_backoff',
        'file_parse_error': 'stop_and_report',
        'customer_conflict': 'queue_for_manual_review',
        'duplicate_customer': 'attempt_merge',
        '1c_api_error': 'retry_with_exponential_backoff',
    }
    
    def handle_customer_sync_error(self, error_type, error_data, context):
        """–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤"""
        
        if error_type == 'customer_conflict':
            return self.queue_conflict_for_review(error_data, context)
        elif error_type == 'duplicate_customer':
            return self.attempt_customer_merge(error_data, context)
        else:
            return self.handle_generic_error(error_type, error_data, context)

class CustomerSyncMonitor:
    """–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤"""
    
    def generate_sync_dashboard_data(self):
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏"""
        
        return {
            'customers_synced_today': self.get_customers_synced_today(),
            'pending_conflicts': self.get_pending_conflicts_count(),
            'sync_errors_last_24h': self.get_recent_errors(),
            'export_queue_size': self.get_export_queue_size(),
            'last_successful_import': self.get_last_successful_import(),
        }
```

### 8.2 –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```python
class CustomerSyncLogger:
    """–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤"""
    
    def log_customer_import(self, customer_data, result):
        """–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞"""
        CustomerSyncLog.objects.create(
            operation_type='import_from_1c',
            customer_email=customer_data.get('email'),
            customer=result.customer if result.success else None,
            status='success' if result.success else 'error',
            details={
                '1c_customer_id': customer_data.get('id'),
                'import_timestamp': timezone.now().isoformat(),
                'data_source': '1c_export'
            },
            error_message=result.error_message if not result.success else ''
        )
    
    def log_customer_export(self, platform_customer, result):
        """–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞"""
        CustomerSyncLog.objects.create(
            operation_type='export_to_1c',
            customer=platform_customer,
            customer_email=platform_customer.email,
            status='success' if result.success else 'error',
            details={
                'platform_customer_id': platform_customer.id,
                'export_timestamp': timezone.now().isoformat(),
                '1c_response': result.response_data
            },
            error_message=result.error_message if not result.success else ''
        )
```

---

## 9. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 9.1 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤

```python
class CustomerDataSecurity:
    """–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤"""
    
    SENSITIVE_FIELDS = ['phone', 'tax_id', 'passport_data', 'birth_date']
    
    def sanitize_customer_data(self, customer_data):
        """–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π"""
        
        sanitized = {}
        for field, value in customer_data.items():
            if field in self.SENSITIVE_FIELDS:
                # –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                sanitized[field] = self.validate_sensitive_field(field, value)
            else:
                sanitized[field] = self.clean_general_field(field, value)
        
        return sanitized
    
    def validate_sensitive_field(self, field_name, value):
        """–í–∞–ª–∏–¥–∞—Ü–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π"""
        if field_name == 'phone':
            return self.validate_phone_number(value)
        elif field_name == 'tax_id':
            return self.validate_tax_id(value)
        # ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
        return value

class CustomerDataEncryption:
    """–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤"""
    
    def encrypt_customer_export_data(self, customer_data):
        """–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞"""
        # –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ–π –≤ 1–°
        pass
```

### 9.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
class CustomerSyncOptimizer:
    """–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏"""
    
    def bulk_import_customers(self, customers_data):
        """–ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤"""
        
        # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
        new_customers = []
        existing_customers_updates = []
        
        for customer_data in customers_data:
            if self.customer_exists(customer_data):
                existing_customers_updates.append(customer_data)
            else:
                new_customers.append(customer_data)
        
        # Bulk –æ–ø–µ—Ä–∞—Ü–∏–∏
        if new_customers:
            self.bulk_create_customers(new_customers)
        
        if existing_customers_updates:
            self.bulk_update_customers(existing_customers_updates)
    
    def optimize_customer_queries(self):
        """–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤"""
        # –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
        # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        pass
```

---

## 10. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 10.1 Story 3.1: –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–° ‚úÖ

**–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**Deliverables:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–° (–¥–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç)
- ‚úÖ –ó–∞–ø—Ä–æ—Å –∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É 1–° —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π
- ‚è≥ –°—Ö–µ–º—ã –º–∞–ø–ø–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö (–æ–∂–∏–¥–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ç 1–°)

---

### 10.2 Story 3.2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ 1–°

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è Dev Agent (James):**

#### **–°–æ–∑–¥–∞—Ç—å Django management commands:**

```python
# apps/products/management/commands/import_catalog_from_1c.py
class Command(BaseCommand):
    help = "–ò–º–ø–æ—Ä—Ç –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ 1–°"
    
    def add_arguments(self, parser):
        parser.add_argument('--file', required=True, help='–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–∞–Ω–Ω—ã—Ö')
        parser.add_argument('--dry-run', action='store_true', help='–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫')
        parser.add_argument('--chunk-size', type=int, default=100, help='–†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞')

# apps/products/management/commands/import_offers_from_1c.py
class Command(BaseCommand):
    help = "–ò–º–ø–æ—Ä—Ç —Ü–µ–Ω –∏ –æ—Å—Ç–∞—Ç–∫–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ 1–°"

# apps/users/management/commands/import_customers_from_1c.py  
class Command(BaseCommand):
    help = "–ò–º–ø–æ—Ä—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ 1–°"

# apps/users/management/commands/sync_customers_with_1c.py
class Command(BaseCommand):
    help = "–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å 1–°"
```

#### **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**

```python
# apps/products/services/data_parser.py
class DataParser:
    """–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ 1–°"""
    
# apps/users/services/customer_sync_service.py
class CustomerSyncService:
    """–°–µ—Ä–≤–∏—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤"""
    
# apps/common/services/import_validator.py
class ImportDataValidator:
    """–í–∞–ª–∏–¥–∞—Ç–æ—Ä –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö"""
```

#### **–û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏:**

```python
# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ User model –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–°
onec_id = models.CharField('ID –≤ 1–°', max_length=100, blank=True, null=True, unique=True)
sync_status = models.CharField('–°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏', ...)
created_in_1c = models.BooleanField('–°–æ–∑–¥–∞–Ω –≤ 1–°', default=False)
needs_1c_export = models.BooleanField('–¢—Ä–µ–±—É–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ 1–°', default=False)

# –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å CustomerSyncLog –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```

---

### 10.3 Acceptance Criteria –¥–ª—è –≤—Å–µ—Ö Stories

**Story 3.2 - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
- [ ] –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `import_catalog_from_1c`
- [ ] –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `import_customers_from_1c`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –±–∞–∑–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä –¥–∞–Ω–Ω—ã—Ö (–±—É–¥–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∞–Ω –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ 1–°)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–º–ø–æ—Ä—Ç–∞
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ User –∏ Product –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–°
- [ ] –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å CustomerSyncLog
- [ ] –°–æ–∑–¥–∞–Ω—ã unit —Ç–µ—Å—Ç—ã –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**Story 3.3 - –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤:**
- [ ] –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `load_test_catalog`
- [ ] –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `sync_customers_with_1c`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –±—Ä–µ–Ω–¥–æ–≤
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏
- [ ] –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã backup/restore –¥–∞–Ω–Ω—ã—Ö
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ batch –æ–ø–µ—Ä–∞—Ü–∏–π

**Story 3.4 - –¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞:**
- [ ] –ó–∞–≥—Ä—É–∂–µ–Ω–æ –º–∏–Ω–∏–º—É–º 500 —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Ü–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö 7 —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –°–æ–∑–¥–∞–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–≤—è–∑–µ–π
- [ ] –ó–∞–ø—É—â–µ–Ω—ã —Ç–µ—Å—Ç—ã –Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**Story 3.5 - –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤:**
- [ ] –°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `load_product_stocks`
- [ ] –ó–∞–≥—Ä—É–∂–µ–Ω—ã –æ—Å—Ç–∞—Ç–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ `is_in_stock`
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ `can_be_ordered`
- [ ] API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –Ω–∞–ª–∏—á–∏–∏

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–° –≤ —Ä–∞–º–∫–∞—Ö Epic 3, –≤–∫–ª—é—á–∞—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π**.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**

‚úÖ **–¢—Ä–µ—Ö—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** —Ç–æ–≤–∞—Ä—ã + –∫–ª–∏–µ–Ω—Ç—ã + –∑–∞–∫–∞–∑—ã  
‚úÖ **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ + —Ä—É—á–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è  
‚úÖ **Identity Resolution:** –Ω–∞–¥–µ–∂–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏  
‚úÖ **Audit Trail:** –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏  
‚úÖ **Performance:** batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã  
‚úÖ **Security:** –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤  

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É 1–°** - –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
2. **–î–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã 3-4** - —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º—ã –º–∞–ø–ø–∏–Ω–≥–∞
3. **–ü–µ—Ä–µ–¥–∞—Ç—å Dev Agent (James)** - –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Stories 3.2-3.5

**–ì–æ—Ç–æ–≤–æ –∫ –ø–µ—Ä–µ–¥–∞—á–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üöÄ**