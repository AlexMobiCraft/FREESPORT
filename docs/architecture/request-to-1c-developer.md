# Запрос к программисту 1С по интеграции с веб-платформой FREESPORT

**Дата:** 5 сентября 2025  
**Проект:** FREESPORT - платформа электронной коммерции B2B/B2C  
**От:** Команда разработки веб-платформы  
**Кому:** Программист 1С:Управление торговлей  

---

## Введение

Разрабатываем веб-платформу FREESPORT для продажи спортивных товаров с интеграцией к вашей системе 1С:Управление торговлей. Нам необходимо настроить двустороннюю синхронизацию данных между системами.

**Техническая база веб-платформы:**
- Backend: Django + PostgreSQL
- 7 ролей пользователей с разным ценообразованием (розница + 6 B2B ролей)
- REST API для всех операций

---

## 1. Данные, которые нам нужно получать из 1С

### 1.1 **КАТАЛОГ ТОВАРОВ**

**Товары (номенклатура):**
- Уникальный ID товара в 1С
- Наименование товара
- Артикул/SKU (если есть)
- Полное описание
- Краткое описание (если есть)
- Технические характеристики
- Изображения товара (основное + галерея)
- Единица измерения
- Минимальное количество для заказа
- Бренд/производитель
- Статус активности (активен/деактивирован)

**Категории товаров:**
- Уникальный ID категории в 1С
- Наименование категории
- Родительская категория (для иерархии)
- Описание категории
- Изображение категории (если есть)
- Порядок сортировки

**Бренды:**
- Наименование бренда
- Описание бренда
- Логотип (если есть)

### 1.2 **ЦЕНООБРАЗОВАНИЕ И КОММЕРЧЕСКИЕ УСЛОВИЯ**

У нас 7 типов пользователей с разными ценами:

1. **retail** - Розничные покупатели
2. **wholesale_level1** - Оптовики уровень 1
3. **wholesale_level2** - Оптовики уровень 2  
4. **wholesale_level3** - Оптовики уровень 3
5. **trainer** - Тренеры
6. **federation_rep** - Представители федераций
7. **admin** - Администраторы (обычно как розница)

**Для каждого товара нужны цены по всем типам пользователей:**
- Цена для розничных покупателей
- Цена для оптовиков уровень 1, 2, 3
- Цена для тренеров
- Цена для представителей федераций

**Информационные цены для B2B пользователей:**
- RRP (Recommended Retail Price) - рекомендованная розничная цена
- MSRP (Maximum Suggested Retail Price) - максимальная рекомендованная цена

### 1.3 **ОСТАТКИ И НАЛИЧИЕ**

- Текущие остатки по каждому товару
- Резерв товара (если есть)
- Ожидаемое поступление (если есть)
- Информация о складах (если товар на разных складах)

### 1.4 **ПОКУПАТЕЛИ (КЛИЕНТЫ)**

- Уникальный ID клиента в 1С
- Тип клиента (физическое лицо / юридическое лицо)
- ФИО / Наименование организации
- Email
- Телефон
- ИНН (для юр.лиц)
- Юридический адрес
- Адрес доставки
- Тип клиента по ценообразованию (розница, опт1, опт2, опт3, тренер, федерация)
- Статус клиента (активен/заблокирован)
- Дата создания
- Контактные лица (для юр.лиц)

---

## 2. Данные, которые мы будем передавать в 1С

### 2.1 **ЗАКАЗЫ КЛИЕНТОВ**

**Информация о заказе:**
- Уникальный номер заказа в веб-платформе
- Дата и время создания заказа
- Статус заказа (новый, подтвержден, в обработке)
- Общая сумма заказа
- Способ оплаты
- Статус оплаты

**Информация о клиенте:**
- ФИО или название организации
- Email и телефон
- Тип клиента (физ.лицо/юр.лицо)
- ИНН (для юр.лиц)
- Адрес доставки

**Состав заказа:**
- ID товара в 1С
- Наименование товара
- Количество
- Цена на момент заказа
- Сумма по позиции

**Дополнительная информация:**
- Комментарии к заказу
- Способ доставки
- Дата желаемой доставки

### 2.2 **НОВЫЕ ПОКУПАТЕЛИ**

При регистрации на веб-платформе передаем в 1С:
- ФИО / Наименование организации
- Email (используется как логин)
- Телефон
- Тип пользователя (физ.лицо/юр.лицо)
- ИНН (для юр.лиц)
- Название компании (для B2B)
- Адреса (юридический и доставки)
- Запрашиваемый тип ценообразования
- Дата регистрации

### 2.3 **ОБНОВЛЕНИЯ СТАТУСОВ**

Нам нужно получать обратно из 1С:
- Подтверждение получения заказа
- Изменения статуса заказа (принят в работу, отгружен, доставлен)
- Номер заказа в 1С
- Трек-номер для отслеживания (если есть)

---

## 3. Вопросы по техническому формату

### 3.1 **ОСНОВНЫЕ ВОПРОСЫ:**

1. **Какой формат данных вы можете предоставить для выгрузки каталога?**
   - CommerceML (XML)?
   - JSON?
   - CSV?
   - Ваш собственный формат?

2. **Как организована выгрузка данных из вашей 1С?**
   - Файлы на FTP/SFTP?
   - HTTP API?
   - Веб-сервисы?
   - Файлы в общую папку?

3. **Поддерживается ли инкрементальная синхронизация?**
   - Можно ли получать только изменения с определенной даты?
   - Или только полная выгрузка каждый раз?

### 3.2 **ВОПРОСЫ ПО ЦЕНООБРАЗОВАНИЮ:**

4. **Как называются типы цен в вашей 1С для разных категорий покупателей?**
   - Какие точные наименования используются для розничных и оптовых цен?
   - Есть ли специальные типы цен для тренеров и представителей федераций?
   - Можно ли создать дополнительные типы цен под наши роли?

5. **Есть ли в 1С информационные цены (RRP/MSRP)?**
   - Как они называются в системе?
   - В каком поле выгружаются?

### 3.3 **ВОПРОСЫ ПО ЗАКАЗАМ:**

6. **В каком формате принимать заказы в 1С?**
   - CommerceML?
   - JSON через HTTP API?
   - CSV файлы?

7. **Как организовать обратную связь по статусам заказов?**
   - Можете ли присылать обновления статусов?
   - В каком формате?

### 3.4 **ВОПРОСЫ ПО СИНХРОНИЗАЦИИ ПОКУПАТЕЛЕЙ:**

8. **Как организована синхронизация клиентской базы?**
   - Нужно ли загружать существующих клиентов из 1С на платформу?
   - В каком формате выгружается справочник клиентов?

9. **Как обрабатывать новых клиентов с веб-платформы?**
   - В каком формате передавать данные новых покупателей в 1С?
   - Нужна ли предварительная модерация B2B клиентов?
   - Кто присваивает тип ценообразования (1С или платформа)?

10. **Как обновлять данные существующих клиентов?**
    - Если клиент изменил данные на сайте, как передать изменения в 1С?
    - Если данные изменились в 1С, как получить обновления?

### 3.5 **ТЕХНИЧЕСКИЕ ВОПРОСЫ:**

11. **Ограничения и лимиты:**
    - Есть ли ограничения на размер файлов?
    - Лимиты на частоту запросов?

12. **Кодировка и локализация:**
    - В какой кодировке выгружаются данные (UTF-8, Windows-1251)?
    - Есть ли особенности с русскими символами?

---

## 4. Примеры структур данных (для уточнения)

### 4.1 Пример товара, который нам нужен:

```json
{
  "onec_id": "00001234-0000-0000-0000-000000000001",
  "name": "Футболка Nike Dri-FIT",
  "sku": "NIKE-DF-001-L",
  "description": "Спортивная футболка с технологией Dri-FIT",
  "category_id": "cat-sportswear",
  "brand": "Nike",
  "unit": "шт",
  "min_order_quantity": 1,
  "specifications": {
    "material": "100% полиэстер",
    "size": "L",
    "color": "Черный"
  },
  "images": [
    "products/nike-dri-fit-001-main.jpg",
    "products/nike-dri-fit-001-back.jpg"
  ],
  "prices": {
    "retail": 2500.00,
    "wholesale_level1": 2000.00,
    "wholesale_level2": 1800.00,
    "wholesale_level3": 1600.00,
    "trainer": 1900.00,
    "federation": 1700.00,
    "rrp": 2500.00,
    "msrp": 3000.00
  },
  "stock": {
    "quantity": 15,
    "reserved": 2,
    "available": 13
  },
  "is_active": true
}
```

### 4.2 Пример заказа, который мы будем передавать:

```json
{
  "order_id": "ORD-2025-000123",
  "created_at": "2025-09-05T14:30:00Z",
  "status": "new",
  "total_amount": 5000.00,
  "customer": {
    "name": "Иванов Иван Иванович",
    "email": "ivan@example.com",
    "phone": "+7 (999) 123-45-67",
    "type": "individual",
    "delivery_address": "Москва, ул. Примерная, д. 1"
  },
  "items": [
    {
      "onec_id": "00001234-0000-0000-0000-000000000001",
      "name": "Футболка Nike Dri-FIT",
      "quantity": 2,
      "price": 2500.00,
      "total": 5000.00
    }
  ],
  "payment_method": "card",
  "delivery_method": "courier",
  "comments": "Доставка после 18:00"
}
```

### 4.3 Пример покупателя, которого мы будем передавать:

```json
{
  "email": "ivan@example.com",
  "registration_date": "2025-09-05T10:00:00Z",
  "customer_type": "individual",
  "individual_data": {
    "first_name": "Иван",
    "last_name": "Иванов", 
    "middle_name": "Иванович",
    "phone": "+7 (999) 123-45-67",
    "birth_date": "1990-01-15",
    "delivery_address": "Москва, ул. Примерная, д. 1, кв. 10"
  },
  "legal_data": null,
  "requested_role": "retail",
  "verification_status": "pending"
}
```

**Или для B2B клиента:**

```json
{
  "email": "orders@sportclub.com",
  "registration_date": "2025-09-05T10:00:00Z",
  "customer_type": "legal_entity",
  "individual_data": null,
  "legal_data": {
    "company_name": "ООО «СпортКлуб»",
    "tax_id": "7701234567",
    "legal_address": "Москва, ул. Деловая, д. 5",
    "delivery_address": "Москва, ул. Складская, д. 10",
    "contact_person": "Петров Петр Петрович",
    "contact_phone": "+7 (999) 987-65-43"
  },
  "requested_role": "wholesale_level2",
  "verification_status": "requires_approval"
}
```

---

## 5. Что нужно от вас

1. **Ответы на все вопросы выше**

2. **Примеры реальных данных:**
   - Пример выгрузки каталога в том формате, который вы можете предоставить
   - Пример выгрузки цен и остатков
   - Пример выгрузки справочника клиентов
   - Пример структуры заказа, которую вы можете принять
   - Пример структуры данных покупателя для загрузки в 1С

3. **Техническая документация:**
   - Описание API (если есть)
   - Формат файлов обмена
   - Процедуры аутентификации

4. **График и планы:**
   - Когда можете предоставить тестовые данные?
   - Есть ли ограничения по времени для настройки интеграции?

---

## 6. Наши возможности

**Что мы можем адаптировать под вас:**
- Парсинг любых разумных форматов данных (XML, JSON, CSV)
- Работа с различными способами передачи данных
- Адаптация под ваши названия полей и структур
- Гибкая настройка маппинга данных

**Что мы предоставим:**
- Детальную документацию по приему заказов
- Тестовую среду для отладки интеграции
- Техническую поддержку на всех этапах

---

## Контакты

**По техническим вопросам:**  
Email: [указать email]  
Телефон: [указать телефон]

**Ожидаем ответа для продолжения разработки интеграции.**

Спасибо за сотрудничество! 🤝